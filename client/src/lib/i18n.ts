import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// Define direction type
type Direction = 'ltr' | 'rtl';

// Define language interface
interface Language {
  code: string;
  name: string;
  flag: string;
  dir: Direction;
}

// Supported languages
export const languages: Language[] = [
  { code: 'en', name: 'English', flag: 'üá∫üá∏', dir: 'ltr' },
  { code: 'fr', name: 'Fran√ßais', flag: 'üá´üá∑', dir: 'ltr' },
  { code: 'es', name: 'Espa√±ol', flag: 'üá™üá∏', dir: 'ltr' },
  { code: 'zh', name: '‰∏≠Êñá', flag: 'üá®üá≥', dir: 'ltr' },
  { code: 'ar', name: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©', flag: 'üá∏üá¶', dir: 'rtl' }
];

// Define translations directly
const enTranslations = {
  "welcome": "Welcome",
  "description": "This app supports 5 languages",
  "current_time": "Current time: {{time}}",
  "language": "Language",
  "home": "Home",
  "dashboard": "Dashboard",
  "quizzes": "Quizzes",
  "create_quiz": "Create Quiz",
  "my_quizzes": "My Quizzes",
  "leaderboard": "Leaderboard",
  "analytics": "Analytics",
  "profile": "Profile",
  "logout": "Logout",
  "login": "Login",
  "register": "Register",
  "logout_success": "Logged out successfully",
  "logout_success_description": "You have been logged out of your account",
  "logout_error": "Error signing out",
  "logout_error_description": "There was an error signing out of your account",
  "quiz_title": "Quiz Title",
  "quiz_description": "Quiz Description",
  "quiz_category": "Quiz Category",
  "quiz_difficulty": "Quiz Difficulty",
  "beginner": "Beginner",
  "intermediate": "Intermediate",
  "advanced": "Advanced",
  "expert": "Expert",
  "start_quiz": "Start Quiz",
  "next": "Next",
  "previous": "Previous",
  "submit": "Submit",
  "results": "Results",
  "score": "Score",
  "correct_answers": "Correct Answers",
  "incorrect_answers": "Incorrect Answers",
  "time_taken": "Time Taken",
  "share_results": "Share Results",
  "try_again": "Try Again",
  "question": "Question",
  "of": "of",
  "question_review": "Question Review",
  "your_answer": "Your answer",
  "correct_answer": "Correct answer",
  "error_loading_quiz": "Error loading quiz",
  "error_submitting_quiz": "Error submitting quiz",
  "error_creating_quiz": "Error creating quiz",
  "quiz_generation_success": "Quiz generated successfully",
  "quiz_generation_failure": "Failed to generate quiz",
  "retry": "Retry",
  "go_back": "Go Back",
  "back_to_dashboard": "Back to Dashboard",
  "quiz_not_found": "Quiz Not Found",
  "quiz_not_found_message": "Sorry, we couldn't find the quiz you're looking for. It may have been deleted or moved.",
  "return_to_dashboard": "Return to Dashboard",
  "browse_all_quizzes": "Browse All Quizzes",
  "keyboard_shortcuts_available": "Keyboard Shortcuts Available",
  "keyboard_shortcuts_description": "Use arrow keys to navigate, number keys (1-4) to select answers, and 's' to submit.",
  "time_remaining": "Time Remaining",
  "loading_questions": "Loading questions...",
  "prepare_yourself": "Prepare yourself!",
  "open_advanced_editor": "Open Advanced Editor",
  "advanced_question_editor": "Advanced Question Editor",
  "try_ai_generation": "Try AI Generation",
  "need_more_control": "Need more control over individual questions? Try our advanced editor.",
  "edit_profile": "Edit Profile",
  "save_changes": "Save Changes",
  "cancel": "Cancel",
  "select_avatar": "Select Avatar",
  
  // Quiz Form translations
  "generate_quiz_with_ai": "Generate a quiz with AI",
  "template": "Template",
  "quiz_ai_description": "Our AI will create a comprehensive quiz based on your topic. Just provide the subject area and customization options.",
  "template_values_applied": "Template values applied. Feel free to customize further!",
  "quiz_topic": "Quiz Topic",
  "topic_placeholder": "e.g. JavaScript Fundamentals",
  "difficulty_level": "Difficulty Level",
  "select_difficulty": "Select difficulty",
  "difficulty.beginner": "Beginner",
  "difficulty.intermediate": "Intermediate",
  "difficulty.advanced": "Advanced",
  "number_of_questions": "Number of Questions",
  "select_count": "Select count",
  "question_count.5": "5 questions",
  "question_count.10": "10 questions",
  "question_count.15": "15 questions",
  "question_count.20": "20 questions",
  "time_limit": "Time Limit",
  "select_time_limit": "Select time limit",
  "time_limit.5": "5 minutes",
  "time_limit.10": "10 minutes",
  "time_limit.15": "15 minutes",
  "time_limit.20": "20 minutes",
  "time_limit.30": "30 minutes",
  "include_code_snippets": "Include code snippets",
  "code_snippets_description": "Include code examples in questions where applicable",
  "generate_quiz": "Generate Quiz",
  "generating": "Generating...",
  "create_quiz_description": "This will create a new quiz based on your settings",
  "creating_with_ai": "Creating your quiz with AI... This might take a moment",
  
  // Toast messages
  "template_applied": "Template Applied",
  "template_applied_description": "Using the \"{{name}}\" template as a starting point.",
  "quiz_generated_success": "Quiz generated successfully",
  "quiz_created_description": "Your quiz has been created and is now available in Firestore.",
  "failed_to_generate_quiz": "Failed to generate quiz",
  "try_again_later": "Please try again later.",
  "topic_required": "Topic is required",
  "please_enter_topic": "Please enter a quiz topic",
  
  // Results page translations
  "excellent_performance": "Excellent Performance!",
  "great_job": "Great Job!",
  "good_effort": "Good Effort!",
  "keep_practicing": "Keep Practicing!",
  "excellent_score": "Excellent score! You have a strong understanding of the topic.",
  "great_score": "Great score! You're mastering most concepts.",
  "good_score": "Good score! There's room for improvement.",
  "needs_improvement": "Needs improvement. Review the topic and try again.",
  "percentage_score": "{{percentage}}% ({{correct}} of {{total}})",
  "completed_in": "Completed in {{time}}",
  "share_title": "I scored {{scorePercentage}}% on {{quizTitle}}!",
  "share_description": "I got {{correctAnswers}} of {{totalQuestions}} questions correct in {{timeTaken}}. {{message}}",
  "create_new_quiz": "Create a New Quiz"
};

const frTranslations = {
  "welcome": "Bienvenue",
  "description": "Cette application prend en charge 5 langues",
  "current_time": "Heure actuelle: {{time}}",
  "language": "Langue",
  "home": "Accueil",
  "dashboard": "Tableau de bord",
  "quizzes": "Quiz",
  "create_quiz": "Cr√©er un Quiz",
  "my_quizzes": "Mes Quiz",
  "profile": "Profil",
  "logout": "D√©connexion",
  "login": "Connexion",
  "register": "S'inscrire",
  "quiz_title": "Titre du Quiz",
  "quiz_description": "Description du Quiz",
  "quiz_category": "Cat√©gorie du Quiz",
  "quiz_difficulty": "Difficult√© du Quiz",
  "beginner": "D√©butant",
  "intermediate": "Interm√©diaire",
  "advanced": "Avanc√©",
  "expert": "Expert",
  "start_quiz": "Commencer le Quiz",
  "next": "Suivant",
  "previous": "Pr√©c√©dent",
  "submit": "Soumettre",
  "results": "R√©sultats",
  "score": "Score",
  "correct_answers": "R√©ponses correctes",
  "incorrect_answers": "R√©ponses incorrectes",
  "time_taken": "Temps pris",
  "share_results": "Partager les r√©sultats",
  "try_again": "R√©essayer",
  "question": "Question",
  "of": "de",
  "question_review": "R√©vision des questions",
  "your_answer": "Votre r√©ponse",
  "correct_answer": "R√©ponse correcte",
  "error_loading_quiz": "Erreur lors du chargement du quiz",
  "error_submitting_quiz": "Erreur lors de la soumission du quiz",
  "error_creating_quiz": "Erreur lors de la cr√©ation du quiz",
  "quiz_generation_success": "Quiz g√©n√©r√© avec succ√®s",
  "quiz_generation_failure": "√âchec de la g√©n√©ration du quiz",
  "retry": "R√©essayer",
  "go_back": "Retour",
  "back_to_dashboard": "Retour au tableau de bord",
  "quiz_not_found": "Quiz introuvable",
  "quiz_not_found_message": "D√©sol√©, nous n'avons pas pu trouver le quiz que vous cherchez. Il a peut-√™tre √©t√© supprim√© ou d√©plac√©.",
  "return_to_dashboard": "Retourner au tableau de bord",
  "browse_all_quizzes": "Parcourir tous les quiz",
  "keyboard_shortcuts_available": "Raccourcis clavier disponibles",
  "keyboard_shortcuts_description": "Utilisez les fl√®ches pour naviguer, les touches num√©riques (1-4) pour s√©lectionner des r√©ponses et 's' pour soumettre.",
  "time_remaining": "Temps restant",
  "loading_questions": "Chargement des questions...",
  "prepare_yourself": "Pr√©parez-vous !",
  "open_advanced_editor": "Ouvrir l'√©diteur avanc√©",
  "advanced_question_editor": "√âditeur de questions avanc√©",
  "try_ai_generation": "Essayer la g√©n√©ration IA",
  "need_more_control": "Besoin de plus de contr√¥le sur les questions individuelles ? Essayez notre √©diteur avanc√©.",
  "edit_profile": "Modifier le profil",
  "save_changes": "Enregistrer les modifications",
  "cancel": "Annuler",
  "select_avatar": "S√©lectionner un avatar",
  
  // Quiz Form translations
  "generate_quiz_with_ai": "G√©n√©rer un quiz avec l'IA",
  "template": "Mod√®le",
  "quiz_ai_description": "Notre IA cr√©era un quiz complet bas√© sur votre sujet. Fournissez simplement le domaine et les options de personnalisation.",
  "template_values_applied": "Valeurs du mod√®le appliqu√©es. N'h√©sitez pas √† personnaliser davantage !",
  "quiz_topic": "Sujet du Quiz",
  "topic_placeholder": "ex. Fondamentaux JavaScript",
  "difficulty_level": "Niveau de Difficult√©",
  "select_difficulty": "S√©lectionner la difficult√©",
  "difficulty.beginner": "D√©butant",
  "difficulty.intermediate": "Interm√©diaire",
  "difficulty.advanced": "Avanc√©",
  "number_of_questions": "Nombre de Questions",
  "select_count": "S√©lectionner le nombre",
  "question_count.5": "5 questions",
  "question_count.10": "10 questions",
  "question_count.15": "15 questions",
  "question_count.20": "20 questions",
  "time_limit": "Limite de Temps",
  "select_time_limit": "S√©lectionner la limite de temps",
  "time_limit.5": "5 minutes",
  "time_limit.10": "10 minutes",
  "time_limit.15": "15 minutes",
  "time_limit.20": "20 minutes",
  "time_limit.30": "30 minutes",
  "include_code_snippets": "Inclure des extraits de code",
  "code_snippets_description": "Inclure des exemples de code dans les questions le cas √©ch√©ant",
  "generate_quiz": "G√©n√©rer le Quiz",
  "generating": "G√©n√©ration...",
  "create_quiz_description": "Ceci cr√©era un nouveau quiz bas√© sur vos param√®tres",
  "creating_with_ai": "Cr√©ation de votre quiz avec l'IA... Ceci pourrait prendre un moment",
  
  // Toast messages
  "template_applied": "Mod√®le Appliqu√©",
  "template_applied_description": "Utilisation du mod√®le \"{{name}}\" comme point de d√©part.",
  "quiz_generated_success": "Quiz g√©n√©r√© avec succ√®s",
  "quiz_created_description": "Votre quiz a √©t√© cr√©√© et est maintenant disponible dans Firestore.",
  "failed_to_generate_quiz": "√âchec de la g√©n√©ration du quiz",
  "try_again_later": "Veuillez r√©essayer plus tard.",
  "topic_required": "Le sujet est requis",
  "please_enter_topic": "Veuillez saisir un sujet de quiz",
  
  // Results page translations
  "excellent_performance": "Performance Excellente !",
  "great_job": "Excellent Travail !",
  "good_effort": "Bon Effort !",
  "keep_practicing": "Continuez √† Pratiquer !",
  "excellent_score": "Score excellent ! Vous avez une forte compr√©hension du sujet.",
  "great_score": "Excellent score ! Vous ma√Ætrisez la plupart des concepts.",
  "good_score": "Bon score ! Il y a place √† l'am√©lioration.",
  "needs_improvement": "N√©cessite am√©lioration. R√©visez le sujet et r√©essayez.",
  "percentage_score": "{{percentage}}% ({{correct}} sur {{total}})",
  "completed_in": "Termin√© en {{time}}",
  "share_title": "J'ai obtenu {{scorePercentage}}% sur {{quizTitle}} !",
  "share_description": "J'ai eu {{correctAnswers}} sur {{totalQuestions}} questions correctes en {{timeTaken}}. {{message}}",
  "create_new_quiz": "Cr√©er un Nouveau Quiz"
};

const esTranslations = {
  "welcome": "Bienvenido",
  "description": "Esta aplicaci√≥n es compatible con 5 idiomas",
  "current_time": "Hora actual: {{time}}",
  "language": "Idioma",
  "home": "Inicio",
  "dashboard": "Panel",
  "quizzes": "Cuestionarios",
  "create_quiz": "Crear Cuestionario",
  "my_quizzes": "Mis Cuestionarios",
  "profile": "Perfil",
  "logout": "Cerrar sesi√≥n",
  "login": "Iniciar sesi√≥n",
  "register": "Registrarse",
  "quiz_title": "T√≠tulo del Cuestionario",
  "quiz_description": "Descripci√≥n del Cuestionario",
  "quiz_category": "Categor√≠a del Cuestionario",
  "quiz_difficulty": "Dificultad del Cuestionario",
  "beginner": "Principiante",
  "intermediate": "Intermedio",
  "advanced": "Avanzado",
  "expert": "Experto",
  "start_quiz": "Iniciar Cuestionario",
  "next": "Siguiente",
  "previous": "Anterior",
  "submit": "Enviar",
  "results": "Resultados",
  "score": "Puntuaci√≥n",
  "correct_answers": "Respuestas correctas",
  "incorrect_answers": "Respuestas incorrectas",
  "time_taken": "Tiempo empleado",
  "share_results": "Compartir resultados",
  "try_again": "Intentar de nuevo",
  "question": "Pregunta",
  "of": "de",
  "question_review": "Revisi√≥n de preguntas",
  "your_answer": "Tu respuesta",
  "correct_answer": "Respuesta correcta",
  "error_loading_quiz": "Error al cargar el cuestionario",
  "error_submitting_quiz": "Error al enviar el cuestionario",
  "error_creating_quiz": "Error al crear el cuestionario",
  "quiz_generation_success": "Cuestionario generado con √©xito",
  "quiz_generation_failure": "Error al generar el cuestionario",
  "retry": "Reintentar",
  "go_back": "Volver",
  "back_to_dashboard": "Volver al panel",
  "quiz_not_found": "Cuestionario no encontrado",
  "quiz_not_found_message": "Lo sentimos, no pudimos encontrar el cuestionario que est√°s buscando. Es posible que haya sido eliminado o movido.",
  "return_to_dashboard": "Volver al panel",
  "browse_all_quizzes": "Explorar todos los cuestionarios",
  "keyboard_shortcuts_available": "Atajos de teclado disponibles",
  "keyboard_shortcuts_description": "Usa las teclas de flecha para navegar, teclas num√©ricas (1-4) para seleccionar respuestas y 's' para enviar.",
  "time_remaining": "Tiempo restante",
  "loading_questions": "Cargando preguntas...",
  "prepare_yourself": "¬°Prep√°rate!",
  "open_advanced_editor": "Abrir editor avanzado",
  "advanced_question_editor": "Editor de preguntas avanzado",
  "try_ai_generation": "Probar generaci√≥n con IA",
  "need_more_control": "¬øNecesitas m√°s control sobre preguntas individuales? Prueba nuestro editor avanzado.",
  "edit_profile": "Editar perfil",
  "save_changes": "Guardar cambios",
  "cancel": "Cancelar",
  "select_avatar": "Seleccionar avatar",
  
  // Quiz Form translations
  "generate_quiz_with_ai": "Generar un quiz con IA",
  "template": "Plantilla",
  "quiz_ai_description": "Nuestra IA crear√° un quiz completo basado en tu tema. Solo proporciona el √°rea tem√°tica y opciones de personalizaci√≥n.",
  "template_values_applied": "Valores de plantilla aplicados. ¬°Si√©ntete libre de personalizar m√°s!",
  "quiz_topic": "Tema del Quiz",
  "topic_placeholder": "ej. Fundamentos de JavaScript",
  "difficulty_level": "Nivel de Dificultad",
  "select_difficulty": "Seleccionar dificultad",
  "difficulty.beginner": "Principiante",
  "difficulty.intermediate": "Intermedio",
  "difficulty.advanced": "Avanzado",
  "number_of_questions": "N√∫mero de Preguntas",
  "select_count": "Seleccionar cantidad",
  "question_count.5": "5 preguntas",
  "question_count.10": "10 preguntas",
  "question_count.15": "15 preguntas",
  "question_count.20": "20 preguntas",
  "time_limit": "L√≠mite de Tiempo",
  "select_time_limit": "Seleccionar l√≠mite de tiempo",
  "time_limit.5": "5 minutos",
  "time_limit.10": "10 minutos",
  "time_limit.15": "15 minutos",
  "time_limit.20": "20 minutos",
  "time_limit.30": "30 minutos",
  "include_code_snippets": "Incluir fragmentos de c√≥digo",
  "code_snippets_description": "Incluir ejemplos de c√≥digo en preguntas donde sea aplicable",
  "generate_quiz": "Generar Quiz",
  "generating": "Generando...",
  "create_quiz_description": "Esto crear√° un nuevo quiz basado en tu configuraci√≥n",
  "creating_with_ai": "Creando tu quiz con IA... Esto podr√≠a tomar un momento",
  
  // Toast messages
  "template_applied": "Plantilla Aplicada",
  "template_applied_description": "Usando la plantilla \"{{name}}\" como punto de partida.",
  "quiz_generated_success": "Quiz generado exitosamente",
  "quiz_created_description": "Tu quiz ha sido creado y ahora est√° disponible en Firestore.",
  "failed_to_generate_quiz": "Error al generar el quiz",
  "try_again_later": "Por favor intenta de nuevo m√°s tarde.",
  "topic_required": "El tema es requerido",
  "please_enter_topic": "Por favor ingresa un tema de quiz",
  
  // Results page translations
  "excellent_performance": "¬°Excelente Rendimiento!",
  "great_job": "¬°Excelente Trabajo!",
  "good_effort": "¬°Buen Esfuerzo!",
  "keep_practicing": "¬°Sigue Practicando!",
  "excellent_score": "¬°Excelente puntuaci√≥n! Tienes una comprensi√≥n s√≥lida del tema.",
  "great_score": "¬°Gran puntuaci√≥n! Est√°s dominando la mayor√≠a de los conceptos.",
  "good_score": "Buena puntuaci√≥n! Hay espacio para mejorar.",
  "needs_improvement": "Necesita mejorar. Revisa el tema e intenta de nuevo.",
  "percentage_score": "{{percentage}}% ({{correct}} de {{total}})",
  "completed_in": "Completado en {{time}}",
  "share_title": "¬°Obtuve {{scorePercentage}}% en {{quizTitle}}!",
  "share_description": "Obtuve {{correctAnswers}} de {{totalQuestions}} preguntas correctas en {{timeTaken}}. {{message}}",
  "create_new_quiz": "Crear un Nuevo Quiz"
};

const zhTranslations = {
  "welcome": "Ê¨¢Ëøé",
  "description": "Ê≠§Â∫îÁî®Á®ãÂ∫èÊîØÊåÅ5ÁßçËØ≠Ë®Ä",
  "current_time": "ÂΩìÂâçÊó∂Èó¥: {{time}}",
  "language": "ËØ≠Ë®Ä",
  "home": "È¶ñÈ°µ",
  "dashboard": "‰ª™Ë°®Êùø",
  "quizzes": "ÊµãÈ™å",
  "create_quiz": "ÂàõÂª∫ÊµãÈ™å",
  "my_quizzes": "ÊàëÁöÑÊµãÈ™å",
  "profile": "‰∏™‰∫∫ËµÑÊñô",
  "logout": "ÁôªÂá∫",
  "login": "ÁôªÂΩï",
  "register": "Ê≥®ÂÜå",
  "quiz_title": "ÊµãÈ™åÊ†áÈ¢ò",
  "quiz_description": "ÊµãÈ™åÊèèËø∞",
  "quiz_category": "ÊµãÈ™åÁ±ªÂà´",
  "quiz_difficulty": "ÊµãÈ™åÈöæÂ∫¶",
  "beginner": "ÂàùÂ≠¶ËÄÖ",
  "intermediate": "‰∏≠Á∫ß",
  "advanced": "È´òÁ∫ß",
  "expert": "‰∏ìÂÆ∂",
  "start_quiz": "ÂºÄÂßãÊµãÈ™å",
  "next": "‰∏ã‰∏Ä‰∏™",
  "previous": "‰∏ä‰∏Ä‰∏™",
  "submit": "Êèê‰∫§",
  "results": "ÁªìÊûú",
  "score": "ÂæóÂàÜ",
  "correct_answers": "Ê≠£Á°ÆÁ≠îÊ°à",
  "incorrect_answers": "ÈîôËØØÁ≠îÊ°à",
  "time_taken": "Ëä±Ë¥πÊó∂Èó¥",
  "share_results": "ÂàÜ‰∫´ÁªìÊûú",
  "try_again": "ÂÜçËØï‰∏ÄÊ¨°",
  "question": "ÈóÆÈ¢ò",
  "of": "ÁöÑ",
  "question_review": "ÈóÆÈ¢òÂõûÈ°æ",
  "your_answer": "‰Ω†ÁöÑÁ≠îÊ°à",
  "correct_answer": "Ê≠£Á°ÆÁ≠îÊ°à",
  "error_loading_quiz": "Âä†ËΩΩÊµãÈ™åÊó∂Âá∫Èîô",
  "error_submitting_quiz": "Êèê‰∫§ÊµãÈ™åÊó∂Âá∫Èîô",
  "error_creating_quiz": "ÂàõÂª∫ÊµãÈ™åÊó∂Âá∫Èîô",
  "quiz_generation_success": "ÊµãÈ™åÁîüÊàêÊàêÂäü",
  "quiz_generation_failure": "ÁîüÊàêÊµãÈ™åÂ§±Ë¥•",
  "retry": "ÈáçËØï",
  "go_back": "ËøîÂõû",
  "back_to_dashboard": "ËøîÂõû‰ª™Ë°®Êùø",
  "quiz_not_found": "Êú™ÊâæÂà∞ÊµãÈ™å",
  "quiz_not_found_message": "Êä±Ê≠âÔºåÊàë‰ª¨Êâæ‰∏çÂà∞ÊÇ®Ê≠£Âú®ÂØªÊâæÁöÑÊµãÈ™å„ÄÇÂÆÉÂèØËÉΩÂ∑≤Ë¢´Âà†Èô§ÊàñÁßªÂä®„ÄÇ",
  "return_to_dashboard": "ËøîÂõû‰ª™Ë°®Êùø",
  "browse_all_quizzes": "ÊµèËßàÊâÄÊúâÊµãÈ™å",
  "keyboard_shortcuts_available": "ÈîÆÁõòÂø´Êç∑ÈîÆÂèØÁî®",
  "keyboard_shortcuts_description": "‰ΩøÁî®ÁÆ≠Â§¥ÈîÆÂØºËà™ÔºåÊï∞Â≠óÈîÆÔºà1-4ÔºâÈÄâÊã©Á≠îÊ°àÔºå‰ª•Âèä's'ÈîÆÊèê‰∫§„ÄÇ",
  "time_remaining": "Ââ©‰ΩôÊó∂Èó¥",
  "loading_questions": "Âä†ËΩΩÈóÆÈ¢ò‰∏≠...",
  "prepare_yourself": "ÂÅöÂ•ΩÂáÜÂ§áÔºÅ",
  "open_advanced_editor": "ÊâìÂºÄÈ´òÁ∫ßÁºñËæëÂô®",
  "advanced_question_editor": "È´òÁ∫ßÈóÆÈ¢òÁºñËæëÂô®",
  "try_ai_generation": "Â∞ùËØï‰∫∫Â∑•Êô∫ËÉΩÁîüÊàê",
  "need_more_control": "ÈúÄË¶ÅÊõ¥Â§öÊéßÂà∂Âçï‰∏™ÈóÆÈ¢òÔºüÂ∞ùËØïÊàë‰ª¨ÁöÑÈ´òÁ∫ßÁºñËæëÂô®„ÄÇ",
  "edit_profile": "ÁºñËæë‰∏™‰∫∫ËµÑÊñô",
  "save_changes": "‰øùÂ≠òÊõ¥Êîπ",
  "cancel": "ÂèñÊ∂à",
  "select_avatar": "ÈÄâÊã©Â§¥ÂÉè",
  
  // Quiz Form translations
  "generate_quiz_with_ai": "‰ΩøÁî®AIÁîüÊàêÊµãÈ™å",
  "template": "Ê®°Êùø",
  "quiz_ai_description": "Êàë‰ª¨ÁöÑAIÂ∞ÜÊ†πÊçÆÊÇ®ÁöÑ‰∏ªÈ¢òÂàõÂª∫‰∏Ä‰∏™ÂÖ®Èù¢ÁöÑÊµãÈ™å„ÄÇÂè™ÈúÄÊèê‰æõ‰∏ªÈ¢òÈ¢ÜÂüüÂíåËá™ÂÆö‰πâÈÄâÈ°π„ÄÇ",
  "template_values_applied": "Ê®°ÊùøÂÄºÂ∑≤Â∫îÁî®„ÄÇËØ∑ÈöèÊÑèËøõ‰∏ÄÊ≠•Ëá™ÂÆö‰πâÔºÅ",
  "quiz_topic": "ÊµãÈ™å‰∏ªÈ¢ò",
  "topic_placeholder": "‰æãÂ¶ÇÔºöJavaScriptÂü∫Á°ÄÁü•ËØÜ",
  "difficulty_level": "ÈöæÂ∫¶Á∫ßÂà´",
  "select_difficulty": "ÈÄâÊã©ÈöæÂ∫¶",
  "difficulty.beginner": "ÂàùÂ≠¶ËÄÖ",
  "difficulty.intermediate": "‰∏≠Á∫ß",
  "difficulty.advanced": "È´òÁ∫ß",
  "number_of_questions": "È¢òÁõÆÊï∞Èáè",
  "select_count": "ÈÄâÊã©Êï∞Èáè",
  "question_count.5": "5ÈÅìÈ¢ò",
  "question_count.10": "10ÈÅìÈ¢ò",
  "question_count.15": "15ÈÅìÈ¢ò",
  "question_count.20": "20ÈÅìÈ¢ò",
  "time_limit": "Êó∂Èó¥ÈôêÂà∂",
  "select_time_limit": "ÈÄâÊã©Êó∂Èó¥ÈôêÂà∂",
  "time_limit.5": "5ÂàÜÈíü",
  "time_limit.10": "10ÂàÜÈíü",
  "time_limit.15": "15ÂàÜÈíü",
  "time_limit.20": "20ÂàÜÈíü",
  "time_limit.30": "30ÂàÜÈíü",
  "include_code_snippets": "ÂåÖÂê´‰ª£Á†ÅÁâáÊÆµ",
  "code_snippets_description": "Âú®ÈÄÇÂΩìÁöÑÂú∞ÊñπÂú®È¢òÁõÆ‰∏≠ÂåÖÂê´‰ª£Á†ÅÁ§∫‰æã",
  "generate_quiz": "ÁîüÊàêÊµãÈ™å",
  "generating": "Ê≠£Âú®ÁîüÊàê...",
  "create_quiz_description": "ËøôÂ∞ÜÊ†πÊçÆÊÇ®ÁöÑËÆæÁΩÆÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊµãÈ™å",
  "creating_with_ai": "Ê≠£Âú®‰ΩøÁî®AIÂàõÂª∫ÊÇ®ÁöÑÊµãÈ™å...ËøôÂèØËÉΩÈúÄË¶Å‰∏ÄÊÆµÊó∂Èó¥",
  
  // Toast messages
  "template_applied": "Ê®°ÊùøÂ∑≤Â∫îÁî®",
  "template_applied_description": "‰ΩøÁî®\"{{name}}\"Ê®°Êùø‰Ωú‰∏∫Ëµ∑ÁÇπ„ÄÇ",
  "quiz_generated_success": "ÊµãÈ™åÁîüÊàêÊàêÂäü",
  "quiz_created_description": "ÊÇ®ÁöÑÊµãÈ™åÂ∑≤ÂàõÂª∫ÔºåÁé∞Âú®ÂèØÂú®Firestore‰∏≠‰ΩøÁî®„ÄÇ",
  "failed_to_generate_quiz": "ÁîüÊàêÊµãÈ™åÂ§±Ë¥•",
  "try_again_later": "ËØ∑Á®çÂêéÂÜçËØï„ÄÇ",
  "topic_required": "‰∏ªÈ¢òÊòØÂøÖÈúÄÁöÑ",
  "please_enter_topic": "ËØ∑ËæìÂÖ•ÊµãÈ™å‰∏ªÈ¢ò",
  
  // Results page translations
  "excellent_performance": "‰ºòÁßÄË°®Áé∞ÔºÅ",
  "great_job": "ÂÅöÂæóÂæàÂ•ΩÔºÅ",
  "good_effort": "Âä™Âäõ‰∏çÈîôÔºÅ",
  "keep_practicing": "ÁªßÁª≠ÁªÉ‰π†ÔºÅ",
  "excellent_score": "‰ºòÁßÄÊàêÁª©ÔºÅÊÇ®ÂØπ‰∏ªÈ¢òÊúâÂæàÂ•ΩÁöÑÁêÜËß£„ÄÇ",
  "great_score": "ÂæàÂ•ΩÁöÑÊàêÁª©ÔºÅÊÇ®ÊéåÊè°‰∫ÜÂ§ßÈÉ®ÂàÜÊ¶ÇÂøµ„ÄÇ",
  "good_score": "‰∏çÈîôÁöÑÊàêÁª©ÔºÅËøòÊúâÊîπËøõÁöÑÁ©∫Èó¥„ÄÇ",
  "needs_improvement": "ÈúÄË¶ÅÊîπËøõ„ÄÇÂ§ç‰π†‰∏ªÈ¢òÂπ∂ÂÜçËØï‰∏ÄÊ¨°„ÄÇ",
  "percentage_score": "{{percentage}}%Ôºà{{correct}}ÈÅìÈ¢òÔºåÂÖ±{{total}}ÈÅìÈ¢òÔºâ",
  "completed_in": "Áî®Êó∂{{time}}ÂÆåÊàê",
  "share_title": "ÊàëÂú®{{quizTitle}}‰∏≠Âæó‰∫Ü{{scorePercentage}}%ÔºÅ",
  "share_description": "ÊàëÂú®{{timeTaken}}ÂÜÖÊ≠£Á°ÆÂõûÁ≠î‰∫Ü{{correctAnswers}}ÈÅìÈ¢òÁõÆÔºåÂÖ±{{totalQuestions}}ÈÅìÈ¢ò„ÄÇ{{message}}",
  "create_new_quiz": "ÂàõÂª∫Êñ∞ÊµãÈ™å"
};

const arTranslations = {
  "welcome": "ŸÖÿ±ÿ≠ÿ®Ÿãÿß",
  "description": "ŸäÿØÿπŸÖ Ÿáÿ∞ÿß ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ 5 ŸÑÿ∫ÿßÿ™",
  "current_time": "ÿßŸÑŸàŸÇÿ™ ÿßŸÑÿ≠ÿßŸÑŸä: {{time}}",
  "language": "ÿßŸÑŸÑÿ∫ÿ©",
  "home": "ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©",
  "dashboard": "ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ",
  "quizzes": "ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™",
  "create_quiz": "ÿ•ŸÜÿ¥ÿßÿ° ÿßÿÆÿ™ÿ®ÿßÿ±",
  "my_quizzes": "ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™Ÿä",
  "leaderboard": "ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖÿ™ÿµÿØÿ±ŸäŸÜ",
  "analytics": "ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑÿßÿ™",
  "profile": "ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä",
  "logout": "ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨",
  "login": "ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ",
  "register": "ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ",
  "logout_success": "ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨ ÿ®ŸÜÿ¨ÿßÿ≠",
  "logout_success_description": "ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿÆÿ±Ÿàÿ¨ŸÉ ŸÖŸÜ ÿ≠ÿ≥ÿßÿ®ŸÉ",
  "logout_error": "ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨",
  "logout_error_description": "ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨ ŸÖŸÜ ÿ≠ÿ≥ÿßÿ®ŸÉ",
  "quiz_title": "ÿπŸÜŸàÿßŸÜ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  "quiz_description": "ŸàÿµŸÅ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  "quiz_category": "ŸÅÿ¶ÿ© ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  "quiz_difficulty": "ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿµÿπŸàÿ®ÿ©",
  "beginner": "ŸÖÿ®ÿ™ÿØÿ¶",
  "intermediate": "ŸÖÿ™Ÿàÿ≥ÿ∑",
  "advanced": "ŸÖÿ™ŸÇÿØŸÖ",
  "expert": "ÿÆÿ®Ÿäÿ±",
  "start_quiz": "ÿ®ÿØÿ° ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  "next": "ÿßŸÑÿ™ÿßŸÑŸä",
  "previous": "ÿßŸÑÿ≥ÿßÿ®ŸÇ",
  "submit": "ÿ•ÿ±ÿ≥ÿßŸÑ",
  "results": "ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨",
  "score": "ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©",
  "correct_answers": "ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ©",
  "incorrect_answers": "ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿßŸÑÿÆÿßÿ∑ÿ¶ÿ©",
  "time_taken": "ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿ∫ÿ±ŸÇ",
  "share_results": "ŸÖÿ¥ÿßÿ±ŸÉÿ© ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨",
  "try_again": "ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ",
  "question": "ÿ≥ÿ§ÿßŸÑ",
  "of": "ŸÖŸÜ",
  "question_review": "ŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©",
  "your_answer": "ÿ•ÿ¨ÿßÿ®ÿ™ŸÉ",
  "correct_answer": "ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ©",
  "error_loading_quiz": "ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  "error_submitting_quiz": "ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  "error_creating_quiz": "ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  "quiz_generation_success": "ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿ®ŸÜÿ¨ÿßÿ≠",
  "quiz_generation_failure": "ŸÅÿ¥ŸÑ ŸÅŸä ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  "retry": "ÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©",
  "go_back": "ÿßŸÑÿπŸàÿØÿ©",
  "back_to_dashboard": "ÿßŸÑÿπŸàÿØÿ© ÿ•ŸÑŸâ ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ",
  "quiz_not_found": "ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿ∫Ÿäÿ± ŸÖŸàÿ¨ŸàÿØ",
  "quiz_not_found_message": "ÿπÿ∞ÿ±Ÿãÿßÿå ŸÑŸÖ ŸÜÿ™ŸÖŸÉŸÜ ŸÖŸÜ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ∞Ÿä ÿ™ÿ®ÿ≠ÿ´ ÿπŸÜŸá. ÿ±ÿ®ŸÖÿß ÿ™ŸÖ ÿ≠ÿ∞ŸÅŸá ÿ£Ÿà ŸÜŸÇŸÑŸá.",
  "return_to_dashboard": "ÿßŸÑÿπŸàÿØÿ© ÿ•ŸÑŸâ ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ",
  "browse_all_quizzes": "ÿ™ÿµŸÅÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™",
  "keyboard_shortcuts_available": "ÿßÿÆÿ™ÿµÿßÿ±ÿßÿ™ ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖŸÅÿßÿ™Ÿäÿ≠ ŸÖÿ™ÿßÿ≠ÿ©",
  "keyboard_shortcuts_description": "ÿßÿ≥ÿ™ÿÆÿØŸÖ ŸÖŸÅÿßÿ™Ÿäÿ≠ ÿßŸÑÿ£ÿ≥ŸáŸÖ ŸÑŸÑÿ™ŸÜŸÇŸÑÿå ŸàÿßŸÑŸÖŸÅÿßÿ™Ÿäÿ≠ ÿßŸÑÿ±ŸÇŸÖŸäÿ© (1-4) ŸÑÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ÿå Ÿà's' ŸÑŸÑÿ•ÿ±ÿ≥ÿßŸÑ.",
  "time_remaining": "ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖÿ™ÿ®ŸÇŸä",
  "loading_questions": "ÿ¨ÿßÿ±Ÿç ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©...",
  "prepare_yourself": "ÿßÿ≥ÿ™ÿπÿØ!",
  "open_advanced_editor": "ŸÅÿ™ÿ≠ ÿßŸÑŸÖÿ≠ÿ±ÿ± ÿßŸÑŸÖÿ™ŸÇÿØŸÖ",
  "advanced_question_editor": "ŸÖÿ≠ÿ±ÿ± ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖÿ™ŸÇÿØŸÖ",
  "try_ai_generation": "ÿ™ÿ¨ÿ±ÿ®ÿ© ÿßŸÑÿ™ŸàŸÑŸäÿØ ÿ®ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä",
  "need_more_control": "ŸáŸÑ ÿ™ÿ≠ÿ™ÿßÿ¨ ÿ•ŸÑŸâ ŸÖÿ≤ŸäÿØ ŸÖŸÜ ÿßŸÑÿ™ÿ≠ŸÉŸÖ ŸÅŸä ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÅÿ±ÿØŸäÿ©ÿü ÿ¨ÿ±ÿ® ŸÖÿ≠ÿ±ÿ±ŸÜÿß ÿßŸÑŸÖÿ™ŸÇÿØŸÖ.",
  "edit_profile": "ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä",
  "save_changes": "ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿ∫ŸäŸäÿ±ÿßÿ™",
  "cancel": "ÿ•ŸÑÿ∫ÿßÿ°",
  "select_avatar": "ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿµŸàÿ±ÿ© ÿßŸÑÿ±ŸÖÿ≤Ÿäÿ©",
  
  // Quiz Form translations
  "generate_quiz_with_ai": "ÿ•ŸÜÿ¥ÿßÿ° ÿßÿÆÿ™ÿ®ÿßÿ± ÿ®ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä",
  "template": "ŸÜŸÖŸàÿ∞ÿ¨",
  "quiz_ai_description": "ÿ≥ŸäŸÇŸàŸÖ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä ÿ®ÿ•ŸÜÿ¥ÿßÿ° ÿßÿÆÿ™ÿ®ÿßÿ± ÿ¥ÿßŸÖŸÑ ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ŸÖŸàÿ∂ŸàÿπŸÉ. ŸÅŸÇÿ∑ ŸÇÿØŸÖ ÿßŸÑŸÖÿ¨ÿßŸÑ ÿßŸÑŸÖŸàÿ∂ŸàÿπŸä ŸàÿÆŸäÿßÿ±ÿßÿ™ ÿßŸÑÿ™ÿÆÿµŸäÿµ.",
  "template_values_applied": "ÿ™ŸÖ ÿ™ÿ∑ÿ®ŸäŸÇ ŸÇŸäŸÖ ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨. ŸÑÿß ÿ™ÿ™ÿ±ÿØÿØ ŸÅŸä ÿßŸÑÿ™ÿÆÿµŸäÿµ ÿ£ŸÉÿ´ÿ±!",
  "quiz_topic": "ŸÖŸàÿ∂Ÿàÿπ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  "topic_placeholder": "ŸÖÿ´ÿßŸÑ: ÿ£ÿ≥ÿßÿ≥Ÿäÿßÿ™ JavaScript",
  "difficulty_level": "ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿµÿπŸàÿ®ÿ©",
  "select_difficulty": "ÿßÿÆÿ™ÿ± ÿßŸÑÿµÿπŸàÿ®ÿ©",
  "difficulty.beginner": "ŸÖÿ®ÿ™ÿØÿ¶",
  "difficulty.intermediate": "ŸÖÿ™Ÿàÿ≥ÿ∑",
  "difficulty.advanced": "ŸÖÿ™ŸÇÿØŸÖ",
  "number_of_questions": "ÿπÿØÿØ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©",
  "select_count": "ÿßÿÆÿ™ÿ± ÿßŸÑÿπÿØÿØ",
  "question_count.5": "5 ÿ£ÿ≥ÿ¶ŸÑÿ©",
  "question_count.10": "10 ÿ£ÿ≥ÿ¶ŸÑÿ©",
  "question_count.15": "15 ÿ≥ÿ§ÿßŸÑ",
  "question_count.20": "20 ÿ≥ÿ§ÿßŸÑ",
  "time_limit": "ÿßŸÑÿ≠ÿØ ÿßŸÑÿ≤ŸÖŸÜŸä",
  "select_time_limit": "ÿßÿÆÿ™ÿ± ÿßŸÑÿ≠ÿØ ÿßŸÑÿ≤ŸÖŸÜŸä",
  "time_limit.5": "5 ÿØŸÇÿßÿ¶ŸÇ",
  "time_limit.10": "10 ÿØŸÇÿßÿ¶ŸÇ",
  "time_limit.15": "15 ÿØŸÇŸäŸÇÿ©",
  "time_limit.20": "20 ÿØŸÇŸäŸÇÿ©",
  "time_limit.30": "30 ÿØŸÇŸäŸÇÿ©",
  "include_code_snippets": "ÿ™ÿ∂ŸÖŸäŸÜ ÿ£ÿ¨ÿ≤ÿßÿ° ŸÖŸÜ ÿßŸÑŸÉŸàÿØ",
  "code_snippets_description": "ÿ™ÿ∂ŸÖŸäŸÜ ÿ£ŸÖÿ´ŸÑÿ© ŸÖŸÜ ÿßŸÑŸÉŸàÿØ ŸÅŸä ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿπŸÜÿØ ÿßŸÑÿ≠ÿßÿ¨ÿ©",
  "generate_quiz": "ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  "generating": "ÿ¨ÿßÿ±Ÿç ÿßŸÑÿ•ŸÜÿ¥ÿßÿ°...",
  "create_quiz_description": "ÿ≥Ÿäÿ§ÿØŸä Ÿáÿ∞ÿß ÿ•ŸÑŸâ ÿ•ŸÜÿ¥ÿßÿ° ÿßÿÆÿ™ÿ®ÿßÿ± ÿ¨ÿØŸäÿØ ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿ•ÿπÿØÿßÿØÿßÿ™ŸÉ",
  "creating_with_ai": "ÿ¨ÿßÿ±Ÿç ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿ®ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä... ŸÇÿØ Ÿäÿ≥ÿ™ÿ∫ÿ±ŸÇ Ÿáÿ∞ÿß ÿ®ÿπÿ∂ ÿßŸÑŸàŸÇÿ™",
  
  // Toast messages
  "template_applied": "ÿ™ŸÖ ÿ™ÿ∑ÿ®ŸäŸÇ ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨",
  "template_applied_description": "ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ŸÜŸÖŸàÿ∞ÿ¨ \"{{name}}\" ŸÉŸÜŸÇÿ∑ÿ© ÿ®ÿØÿßŸäÿ©.",
  "quiz_generated_success": "ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿ®ŸÜÿ¨ÿßÿ≠",
  "quiz_created_description": "ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿßÿÆÿ™ÿ®ÿßÿ±ŸÉ ŸàŸáŸà ŸÖÿ™ÿßÿ≠ ÿßŸÑÿ¢ŸÜ ŸÅŸä Firestore.",
  "failed_to_generate_quiz": "ŸÅÿ¥ŸÑ ŸÅŸä ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  "try_again_later": "Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ ŸÑÿßÿ≠ŸÇÿßŸã",
  "topic_required": "ÿßŸÑŸÖŸàÿ∂Ÿàÿπ ŸÖÿ∑ŸÑŸàÿ®",
  "please_enter_topic": "Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ŸÖŸàÿ∂Ÿàÿπ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±",
  
  // Results page translations
  "excellent_performance": "ÿ£ÿØÿßÿ° ŸÖŸÖÿ™ÿßÿ≤!",
  "great_job": "ÿπŸÖŸÑ ÿ±ÿßÿ¶ÿπ!",
  "good_effort": "ÿ¨ŸáÿØ ÿ¨ŸäÿØ!",
  "keep_practicing": "ÿßÿ≥ÿ™ŸÖÿ± ŸÅŸä ÿßŸÑÿ™ÿØÿ±Ÿäÿ®!",
  "excellent_score": "ŸÜÿ™Ÿäÿ¨ÿ© ŸÖŸÖÿ™ÿßÿ≤ÿ©! ŸÑÿØŸäŸÉ ŸÅŸáŸÖ ŸÇŸàŸä ŸÑŸÑŸÖŸàÿ∂Ÿàÿπ.",
  "great_score": "ŸÜÿ™Ÿäÿ¨ÿ© ÿ±ÿßÿ¶ÿπÿ©! ÿ£ŸÜÿ™ ÿ™ÿ™ŸÇŸÜ ŸÖÿπÿ∏ŸÖ ÿßŸÑŸÖŸÅÿßŸáŸäŸÖ.",
  "good_score": "ŸÜÿ™Ÿäÿ¨ÿ© ÿ¨ŸäÿØÿ©! ŸáŸÜÿßŸÉ ŸÖÿ¨ÿßŸÑ ŸÑŸÑÿ™ÿ≠ÿ≥ŸÜ.",
  "needs_improvement": "Ÿäÿ≠ÿ™ÿßÿ¨ ÿ•ŸÑŸâ ÿ™ÿ≠ÿ≥ŸäŸÜ. ÿ±ÿßÿ¨ÿπ ÿßŸÑŸÖŸàÿ∂Ÿàÿπ Ÿàÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.",
  "percentage_score": "{{percentage}}% ({{correct}} ŸÖŸÜ {{total}})",
  "completed_in": "ŸÖŸÉÿ™ŸÖŸÑ ŸÅŸä {{time}}",
  "share_title": "ŸÑŸÇÿØ ÿ≠ÿµŸÑÿ™ ÿπŸÑŸâ {{scorePercentage}}% ŸÅŸä {{quizTitle}}!",
  "share_description": "ÿ≠ÿµŸÑÿ™ ÿπŸÑŸâ {{correctAnswers}} ŸÖŸÜ {{totalQuestions}} ÿ£ÿ≥ÿ¶ŸÑÿ© ÿµÿ≠Ÿäÿ≠ÿ© ŸÅŸä {{timeTaken}}. {{message}}",
  "create_new_quiz": "ÿ•ŸÜÿ¥ÿßÿ° ÿßÿÆÿ™ÿ®ÿßÿ± ÿ¨ÿØŸäÿØ"
};

const resources = {
  en: { common: enTranslations },
  fr: { common: frTranslations },
  es: { common: esTranslations },
  zh: { common: zhTranslations },
  ar: { common: arTranslations }
};

const DETECTION_OPTIONS = {
  order: ['localStorage', 'navigator'],
  lookupLocalStorage: 'i18nextLng',
  caches: ['localStorage'],
};

// Initialize i18next
i18n
  // Detect user language
  .use(LanguageDetector)
  // Pass i18n instance to react-i18next
  .use(initReactI18next)
  // Initialize configuration
  .init({
    debug: import.meta.env.DEV, // Enable debug in development
    fallbackLng: 'en',
    supportedLngs: languages.map(lang => lang.code),
    defaultNS: 'common',
    ns: ['common'],
    resources,
    detection: DETECTION_OPTIONS,
    interpolation: {
      escapeValue: false, // React already escapes values
    },
    // Special handling for pluralization and formatting
    pluralSeparator: '_',
    contextSeparator: '_',
    react: {
      useSuspense: false, // Changed to false since translations are bundled
    },
  });

// Function to get language direction (RTL or LTR)
export const getLanguageDirection = (lang: string): Direction => {
  const language = languages.find(l => l.code === lang);
  return language?.dir || 'ltr';
};

// Helper function to change language
export const changeLanguage = (lang: string): Promise<any> => {
  return i18n.changeLanguage(lang);
};

// Helper to get current language
export const getCurrentLanguage = (): string => {
  return i18n.language || 'en';
};

export default i18n;