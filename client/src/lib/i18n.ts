import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// Define direction type
type Direction = 'ltr' | 'rtl';

// Define language interface
interface Language {
  code: string;
  name: string;
  flag: string;
  dir: Direction;
}

// Supported languages
export const languages: Language[] = [
  { code: 'en', name: 'English', flag: '🇺🇸', dir: 'ltr' },
  { code: 'fr', name: 'Français', flag: '🇫🇷', dir: 'ltr' },
  { code: 'es', name: 'Español', flag: '🇪🇸', dir: 'ltr' },
  { code: 'zh', name: '中文', flag: '🇨🇳', dir: 'ltr' },
  { code: 'ar', name: 'العربية', flag: '🇸🇦', dir: 'rtl' }
];

// Define translations directly
const enTranslations = {
  "welcome": "Welcome",
  "description": "This app supports 5 languages",
  "current_time": "Current time: {{time}}",
  "language": "Language",
  "home": "Home",
  "dashboard": "Dashboard",
  "quizzes": "Quizzes",
  "create_quiz": "Create Quiz",
  "my_quizzes": "My Quizzes",
  "leaderboard": "Leaderboard",
  "analytics": "Analytics",
  "profile": "Profile",
  "logout": "Logout",
  "login": "Login",
  "register": "Register",
  "logout_success": "Logged out successfully",
  "logout_success_description": "You have been logged out of your account",
  "logout_error": "Error signing out",
  "logout_error_description": "There was an error signing out of your account",
  "quiz_title": "Quiz Title",
  "quiz_description": "Quiz Description",
  "quiz_category": "Quiz Category",
  "quiz_difficulty": "Quiz Difficulty",
  "beginner": "Beginner",
  "intermediate": "Intermediate",
  "advanced": "Advanced",
  "expert": "Expert",
  "start_quiz": "Start Quiz",
  "next": "Next",
  "previous": "Previous",
  "submit": "Submit",
  "results": "Results",
  "score": "Score",
  "correct_answers": "Correct Answers",
  "incorrect_answers": "Incorrect Answers",
  "time_taken": "Time Taken",
  "share_results": "Share Results",
  "try_again": "Try Again",
  "question": "Question",
  "of": "of",
  "question_review": "Question Review",
  "your_answer": "Your answer",
  "correct_answer": "Correct answer",
  "error_loading_quiz": "Error loading quiz",
  "error_submitting_quiz": "Error submitting quiz",
  "error_creating_quiz": "Error creating quiz",
  "quiz_generation_success": "Quiz generated successfully",
  "quiz_generation_failure": "Failed to generate quiz",
  "retry": "Retry",
  "go_back": "Go Back",
  "back_to_dashboard": "Back to Dashboard",
  "quiz_not_found": "Quiz Not Found",
  "quiz_not_found_message": "Sorry, we couldn't find the quiz you're looking for. It may have been deleted or moved.",
  "return_to_dashboard": "Return to Dashboard",
  "browse_all_quizzes": "Browse All Quizzes",
  "keyboard_shortcuts_available": "Keyboard Shortcuts Available",
  "keyboard_shortcuts_description": "Use arrow keys to navigate, number keys (1-4) to select answers, and 's' to submit.",
  "time_remaining": "Time Remaining",
  "loading_questions": "Loading questions...",
  "prepare_yourself": "Prepare yourself!",
  "open_advanced_editor": "Open Advanced Editor",
  "advanced_question_editor": "Advanced Question Editor",
  "try_ai_generation": "Try AI Generation",
  "need_more_control": "Need more control over individual questions? Try our advanced editor.",
  "edit_profile": "Edit Profile",
  "save_changes": "Save Changes",
  "cancel": "Cancel",
  "select_avatar": "Select Avatar",
  
  // Quiz Form translations
  "generate_quiz_with_ai": "Generate a quiz with AI",
  "template": "Template",
  "quiz_ai_description": "Our AI will create a comprehensive quiz based on your topic. Just provide the subject area and customization options.",
  "template_values_applied": "Template values applied. Feel free to customize further!",
  "quiz_topic": "Quiz Topic",
  "topic_placeholder": "e.g. JavaScript Fundamentals",
  "difficulty_level": "Difficulty Level",
  "select_difficulty": "Select difficulty",
  "difficulty.beginner": "Beginner",
  "difficulty.intermediate": "Intermediate",
  "difficulty.advanced": "Advanced",
  "number_of_questions": "Number of Questions",
  "select_count": "Select count",
  "question_count.5": "5 questions",
  "question_count.10": "10 questions",
  "question_count.15": "15 questions",
  "question_count.20": "20 questions",
  "time_limit": "Time Limit",
  "select_time_limit": "Select time limit",
  "time_limit.5": "5 minutes",
  "time_limit.10": "10 minutes",
  "time_limit.15": "15 minutes",
  "time_limit.20": "20 minutes",
  "time_limit.30": "30 minutes",
  "include_code_snippets": "Include code snippets",
  "code_snippets_description": "Include code examples in questions where applicable",
  "generate_quiz": "Generate Quiz",
  "generating": "Generating...",
  "create_quiz_description": "This will create a new quiz based on your settings",
  
  // Missing dashboard translations
  "welcome_back": "Welcome back",
  "you_have": "You have",
  "in_your_collection": "in your collection",
  "with": "with",
  "shared_publicly": "shared publicly",
  "invite_friends": "Invite friends",
  "total_quizzes": "Total Quizzes",
  "public_quizzes": "Public Quizzes",
  "publicly_available": "publicly available",
  "total_questions": "Total Questions",
  "across_all_quizzes": "across all quizzes",
  "average_questions": "Average Questions",
  "per_quiz": "per quiz",
  "your_recent_quizzes": "Your Recent Quizzes",
  "create_new_quiz": "Create New Quiz",
  "search_quizzes_placeholder": "Search quizzes...",
  "all": "All",
  "recent": "Recent",
  "shared": "Shared",
  "programming": "Programming",
  "technology": "Technology",
  "take": "Take",
  "confirm_delete_quiz": "Are you sure you want to delete this quiz?",
  "confirm_delete_quiz_description": "This action cannot be undone. This will permanently delete the quiz and all associated data.",
  "no_quizzes_found_search": "No quizzes found matching \"{{query}}\"",
  "clear_search": "Clear Search",
  "no_quizzes_created_yet": "You haven't created any quizzes yet. Get started by creating your first quiz!",
  "create_your_first_quiz": "Create Your First Quiz",
  
  // App branding and header
  "app_name": "QuizGenius",
  "app_tagline": "AI-powered quiz creation platform made easy",
  
  // Quiz examples and mock data
  "react_fundamentals": "React Fundamentals",
  "react_fundamentals_description": "Learn the basics of React components, props, and state",
  "javascript_basics": "JavaScript Basics",
  "javascript_basics_description": "Test your knowledge of fundamental JavaScript concepts",
  "es6_features": "JavaScript ES6 Features",
  "es6_features_description": "Quiz completed by {{count}} participants",
  "coming_soon": "Coming Soon...",
  "quiz_templates": "Quiz Templates",
  "quiz_templates_description": "Start with a pre-designed template or customize your own quiz",
  "web_development": "Web Development",
  "quiz_completed_by": "Quiz completed by {{count}} participants",
  "view_detailed_analytics": "View detailed analytics",
  "css_grid_flexbox": "CSS Grid & Flexbox",
  "css_grid_flexbox_description": "Modern CSS layout techniques using Grid and Flexbox",
  "recent_quiz_analytics": "Recent Quiz Analytics",
  "category": "Category",
  "popularity": "Popularity",
  "time_limit": "Time Limit",
  "use_template": "Use Template",
  "question_number": "Question {{number}}",
  "correct_percentage": "{{percent}}% correct",
  
  // Score and analytics
  "score_distribution": "Score Distribution",
  "difficulty_analysis": "Difficulty Analysis",
  "score_range_0_20": "0-20%",
  "score_range_21_40": "21-40%",
  "score_range_41_60": "41-60%",
  "score_range_61_80": "61-80%",
  "score_range_81_100": "81-100%",
  
  // Footer translations
  "resources": "Resources",
  "documentation": "Documentation",
  "support": "Support",
  "use_cases": "Use Cases",
  "contact": "Contact",
  "terms": "Terms of Service",
  "privacy": "Privacy Policy",
  "connect": "Connect with us",
  "made_with": "Made with",
  "by_team": "by the QuizGenius Team",
  "all_rights_reserved": "All rights reserved",
  "footer_description": "QuizGenius is an AI-powered quiz platform to make learning fun and interactive. Create, share, and take quizzes on any topic.",
  
  // Leaderboard translations
  "competition_hub": "Competition Hub",
  "competition_hub_description": "Challenge yourself, track your progress, and climb the leaderboard!",
  "share_my_ranking": "Share My Ranking",
  "your_competitive_standing": "Your Competitive Standing",
  "top_percentile": "Top {{percent}}%",
  "how_you_rank_against_others": "How you rank against other quiz masters",
  "global_rank": "Global Rank",
  "above_average": "Above average",
  "average_label": "Average: {{percent}}%",
  "current_streak": "Current: {{streak}}",
  "performance_insights": "Performance Insights",
  "points": "points",
  "percentile_ranking": "Percentile Ranking",
  "percentile_ordinal": "{{percentile}}th percentile",
  "last_active": "Last Active",
  "competitive_highlights": "Competitive Highlights",
  "strongest_category": "Strongest Category",
  "achievement_progress": "Achievement Progress",
  "current_rank_trend": "Current Rank Trend",
  "improving": "Improving",
  "next_achievement": "Next Achievement",
  "in_progress": "In Progress",
  "global": "Global",
  "weekly": "Weekly",
  "monthly": "Monthly",
  "global_rankings": "Global Rankings",
  "see_how_you_rank_worldwide": "See how you rank against other quiz takers worldwide",
  "share_leaderboard": "Share Leaderboard",
  "user": "User",
  "no_leaderboard_data": "No leaderboard data found. Be the first to complete a quiz!",
  "showing_top_users": "Showing top {{count}} users",
  "updated_in_real_time": "Updated in real-time",
  "weekly_challenge": "Weekly Challenge",
  "weekly_challenge_description": "Complete this week's challenge to earn bonus points and exclusive achievements",
  "ends_in": "Ends in: {{time}}",
  "current_challenge": "Current Challenge",
  "you": "You",
  "advanced_analytics": "Advanced Analytics",
  "advanced_analytics_description": "Get detailed insights into quiz performance, user engagement, and learning patterns",
  "overall_analytics": "Overall Analytics",
  "personal_performance": "Personal Performance",
  "quiz_specific_analysis": "Quiz-Specific Analysis",
  "select_quiz": "Select Quiz",
  "all_quizzes": "All Quizzes",
  "time_range": "Time Range",
  "last_week": "Last Week",
  "last_month": "Last Month",
  "last_quarter": "Last Quarter",
  "last_year": "Last Year",
  "all_time": "All Time",
  "total_participants": "Total Participants",
  "average_score": "Average Score",
  "average_time": "Average Time",
  "participation_by_day": "Participation By Day",
  "score_distribution": "Score Distribution",
  "quiz_categories": "Quiz Categories",
  "participants": "Participants",
  "count": "Count",
  "not_available": "N/A",
  "time_period": "Time Period",
  "all_categories": "All Categories",
  "challenge_ends_in": "Challenge ends in",
  "take_challenge": "Take Challenge",
  "no_active_challenge": "No Active Challenge",
  "check_back_for_challenges": "Check back soon for new weekly challenges with special rewards!",
  "browse_quizzes": "Browse Quizzes",
  "last_active": "Last Active",
  "strongest_category": "Strongest Category",
  "achievement_progress": "Achievement Progress",
  "current_rank_trend": "Current Rank Trend",
  "improving": "Improving",
  "next_achievement": "Next Achievement",
  "in_progress": "In Progress",
  "create_manually": "Create Manually",
  "ai_generated_quiz": "AI Generated Quiz",
  "advanced_editor": "Advanced Editor",
  "pro_tip": "Pro Tip",
  "question_bank_tip": "You can create and save questions to your question bank for reuse in multiple quizzes. Access your question bank anytime from the dashboard.",
  "go_to_question_bank": "Go to Question Bank",
  "advanced_editor_description": "Create, edit, and organize your quiz questions with detailed control over each aspect",
  "advanced_editor_features": "This advanced editor allows you to precisely customize each question, control their sequence, add code snippets, and fine-tune your quiz settings.",
  "create_manually_title": "Create a New Quiz Manually",
  "create_manually_description": "Create a quiz from scratch by adding questions, answers, and options manually.",
  "css_layout_mastery": "CSS Layout Mastery",
  "css_layout_mastery_description": "Test your knowledge of modern CSS layout techniques",
  "javascript_advanced": "JavaScript Advanced",
  "javascript_advanced_description": "Test your knowledge of advanced JavaScript concepts including closures, promises, and more",
  "angular_advanced_routing": "Angular Advanced Routing",
  "angular_advanced_routing_description": "Test your knowledge of Angular router features including child routes, guards, and resolvers",
  "css_flexbox_master_challenge": "CSS Flexbox Master Challenge",
  "css_flexbox_master_challenge_description": "Complete this quiz with a score of 80% or higher to earn the 'Flexbox Hero' achievement and 500 bonus points.",
  "flexbox_hero": "Flexbox Hero",
  "need_more_control_questions": "Need more control over individual questions? Try our advanced editor.",
  
  // Common messages
  "no_data": "No data available at the moment",
  "error_occurred": "An error occurred. Please try again",
  "private_quizzes": "Private Quizzes",
  "questions": "questions",
  "mins": "mins",
  "manage": "Manage",
  "take_quiz": "Take Quiz",
  "edit": "Edit",
  "delete": "Delete",
  "profile_updated": "Profile Updated",
  "profile_updated_description": "Your profile information has been updated successfully.",
  "could_not_load_quiz_data": "Could not load quiz data",
  "quiz_submitted_successfully": "Quiz submitted successfully!",
  "you_scored_percentage": "You scored {{score}}% on this quiz.",
  "could_not_submit_answers": "Could not submit your answers",
  "error_loading_results": "Error loading results",
  "could_not_load_results": "Could not load results",
  "please_wait_while_preparing": "Please wait while we prepare your quiz...",
  "confirm_exit_quiz": "Are you sure you want to exit the quiz? Your progress will be lost.",
  "unanswered_questions": "{{count}} question{{count, plural, =1 {} other {s}}} unanswered",
  "confirm_submit_incomplete": "Are you sure you want to submit? You can go back and review your answers.",
  "submit_anyway": "Submit Anyway",
  "difficulty": "difficulty",
  "track_your_quiz_performance": "Track your quiz performance and analyze learning patterns",
  "personal_performance_coming_soon": "Personal Performance analytics coming soon",
  "quiz_specific_analysis_coming_soon": "Quiz-specific analysis coming soon",
  "please_login_to_view_analytics": "Please login to view analytics",
  "instructions": "Instructions",
  "instruction_time_limit": "You have {{timeLimit}} minutes to complete the quiz",
  "instruction_question_count": "There are {{count}} questions in total",
  "instruction_navigation": "You can navigate between questions using the previous/next buttons",
  "instruction_keyboard_shortcuts": "Use keyboard shortcuts to navigate faster",
  "previous_question": "Previous question",
  "next_question": "Next question",
  "select_answer_option": "Select answer option",
  "submit_quiz_last_question": "Submit quiz (on last question)",
  "instruction_progress_saved": "Your progress will be saved as you go",
  "instruction_submit_before_timer": "Submit your quiz before the timer runs out",
  "quiz_question": "Quiz Question",
  "exit_quiz": "Exit Quiz",
  "question_of": "Question {{current}} of {{total}}",
  "loading_question": "Loading question...",
  "report_issue": "Report Issue",
  "please_provide_report_reason": "Please provide a reason for your report",
  "report_submitted": "Report Submitted",
  "thank_you_for_reporting": "Thank you for reporting this issue. We'll review it as soon as possible.",
  "no_options_available": "No options available for this question. Please report this issue.",
  "report_dialog_description": "Please describe the problem with this question or its answers. Our team will review your feedback.",
  "whats_wrong_with_question": "What's wrong with this question?",
  "explain_issue_placeholder": "Explain the issue (e.g., incorrect answer, unclear wording, etc.)",
  "submitting": "Submitting...",
  "submit_report": "Submit Report",

  "creating_with_ai": "Creating your quiz with AI... This might take a moment",
  
  // Toast messages
  "template_applied": "Template Applied",
  "template_applied_description": "Using the \"{{name}}\" template as a starting point.",
  "quiz_generated_success": "Quiz generated successfully",
  "quiz_created_description": "Your quiz has been created and is now available in Firestore.",
  "failed_to_generate_quiz": "Failed to generate quiz",
  "try_again_later": "Please try again later.",
  "topic_required": "Topic is required",
  "please_enter_topic": "Please enter a quiz topic",
  
  // Results page translations
  "excellent_performance": "Excellent Performance!",
  "great_job": "Great Job!",
  "good_effort": "Good Effort!",
  "keep_practicing": "Keep Practicing!",
  "excellent_score": "Excellent score! You have a strong understanding of the topic.",
  "great_score": "Great score! You're mastering most concepts.",
  "good_score": "Good score! There's room for improvement.",
  "needs_improvement": "Needs improvement. Review the topic and try again.",
  "percentage_score": "{{percentage}}% ({{correct}} of {{total}})",
  "completed_in": "Completed in {{time}}",
  "share_title": "I scored {{scorePercentage}}% on {{quizTitle}}!",
  "share_description": "I got {{correctAnswers}} of {{totalQuestions}} questions correct in {{timeTaken}}. {{message}}",
  // Additional common translations
  "active": "Active",
  "inactive": "Inactive",

  "completion_rate": "Completion Rate",
  "minutes": "minutes",
  "share": "Share",
  "loading": "Loading...",
  "no_quizzes_found": "No quizzes found",
  "get_started": "Get Started",
  "view_all": "View All",
  "profile_title": "Profile",
  "personal_info": "Personal Information",
  "account_settings": "Account Settings",
  "achievements": "Achievements",
  "statistics": "Statistics",
  "display_name": "Display Name",
  "bio": "Bio",
  "email": "Email",
  "location": "Location",
  "website": "Website",
  "no_achievements": "No achievements yet",
  "earn_achievements": "Earn achievements by completing quizzes",
  "member_since": "Member since",
  "quizzes_taken": "Quizzes taken",
  "quizzes_created": "Quizzes created",
  "rank": "Rank",

  "error": "Error",
  "success": "Success",
  "close": "Close",
  "finish": "Finish",
  "top_performer": "Top performer",
  "keep_improving": "Keep improving",
  "score_progression": "Score Progression",
  "vs_global_avg": "vs global avg",
  "no_analytics_data_available": "No analytics data available for this quiz",
  "continue": "Continue",
  "back": "Back",
  "confirm": "Confirm",
  "yes": "Yes",
  "no": "No",
  "ok": "OK",
  "search": "Search",
  "filter": "Filter",
  "sort": "Sort",
  "reset": "Reset",
  "apply": "Apply",
  "clear": "Clear",
  
  // Missing translations for quizzes page
  "quiz_deleted": "Quiz deleted",
  "quiz_deleted_description": "The quiz has been deleted successfully",
  "error_deleting_quiz": "Error deleting quiz",
  "could_not_delete_quiz": "Could not delete the quiz",
  "link_copied": "Link copied",
  "link_copied_description": "Quiz link has been copied to clipboard",
  "manage_all_quizzes": "Manage all your created quizzes",
  
  // Missing translations for profile page
  "stats": "Stats",
  "quizzes_completed": "Quizzes Completed",
  "avg_score": "Avg. Score",
  "total_score": "Total Score",
  "best_streak": "Best Streak",
  "view_all_achievements": "View all {{count}} achievements",
  "no_achievements_message": "No achievements yet. Take more quizzes to earn them!",
  "profile_information": "Profile Information",
  "update_profile_description": "Update your profile information and public details",
  "unranked": "Unranked",
  "rank_number": "Rank #{{rank}}"
};

const frTranslations = {
  "welcome": "Bienvenue",
  "description": "Cette application prend en charge 5 langues",
  "current_time": "Heure actuelle: {{time}}",
  "language": "Langue",
  "home": "Accueil",
  "dashboard": "Tableau de bord",
  "quizzes": "Quiz",
  "create_quiz": "Créer un Quiz",
  "my_quizzes": "Mes Quiz",
  "profile": "Profil",
  "logout": "Déconnexion",
  "login": "Connexion",
  "register": "S'inscrire",
  "quiz_title": "Titre du Quiz",
  "quiz_description": "Description du Quiz",
  "quiz_category": "Catégorie du Quiz",
  "quiz_difficulty": "Difficulté du Quiz",
  "beginner": "Débutant",
  "intermediate": "Intermédiaire",
  "advanced": "Avancé",
  "expert": "Expert",
  "start_quiz": "Commencer le Quiz",
  "next": "Suivant",
  "previous": "Précédent",
  "submit": "Soumettre",
  "results": "Résultats",
  "score": "Score",
  "correct_answers": "Réponses correctes",
  "incorrect_answers": "Réponses incorrectes",
  "time_taken": "Temps pris",
  "share_results": "Partager les résultats",
  "try_again": "Réessayer",
  "question": "Question",
  "of": "de",
  "question_review": "Révision des questions",
  "your_answer": "Votre réponse",
  "correct_answer": "Réponse correcte",
  "error_loading_quiz": "Erreur lors du chargement du quiz",
  "error_submitting_quiz": "Erreur lors de la soumission du quiz",
  "error_creating_quiz": "Erreur lors de la création du quiz",
  "quiz_generation_success": "Quiz généré avec succès",
  "quiz_generation_failure": "Échec de la génération du quiz",
  "retry": "Réessayer",
  "go_back": "Retour",
  "back_to_dashboard": "Retour au tableau de bord",
  "quiz_not_found": "Quiz introuvable",
  "quiz_not_found_message": "Désolé, nous n'avons pas pu trouver le quiz que vous cherchez. Il a peut-être été supprimé ou déplacé.",
  "return_to_dashboard": "Retourner au tableau de bord",
  "browse_all_quizzes": "Parcourir tous les quiz",
  "keyboard_shortcuts_available": "Raccourcis clavier disponibles",
  "keyboard_shortcuts_description": "Utilisez les flèches pour naviguer, les touches numériques (1-4) pour sélectionner des réponses et 's' pour soumettre.",
  "time_remaining": "Temps restant",
  "loading_questions": "Chargement des questions...",
  "prepare_yourself": "Préparez-vous !",
  "open_advanced_editor": "Ouvrir l'éditeur avancé",
  "advanced_question_editor": "Éditeur de questions avancé",
  "try_ai_generation": "Essayer la génération IA",
  "need_more_control": "Besoin de plus de contrôle sur les questions individuelles ? Essayez notre éditeur avancé.",
  "edit_profile": "Modifier le profil",
  "save_changes": "Enregistrer les modifications",
  "cancel": "Annuler",
  "select_avatar": "Sélectionner un avatar",
  
  // Quiz Form translations
  "generate_quiz_with_ai": "Générer un quiz avec l'IA",
  "template": "Modèle",
  "quiz_ai_description": "Notre IA créera un quiz complet basé sur votre sujet. Fournissez simplement le domaine et les options de personnalisation.",
  "template_values_applied": "Valeurs du modèle appliquées. N'hésitez pas à personnaliser davantage !",
  "quiz_topic": "Sujet du Quiz",
  "topic_placeholder": "ex. Fondamentaux JavaScript",
  "difficulty_level": "Niveau de Difficulté",
  "select_difficulty": "Sélectionner la difficulté",
  "difficulty.beginner": "Débutant",
  "difficulty.intermediate": "Intermédiaire",
  "difficulty.advanced": "Avancé",
  "number_of_questions": "Nombre de Questions",
  "select_count": "Sélectionner le nombre",
  "question_count.5": "5 questions",
  "question_count.10": "10 questions",
  "question_count.15": "15 questions",
  "question_count.20": "20 questions",
  "time_limit": "Limite de Temps",
  "select_time_limit": "Sélectionner la limite de temps",
  "time_limit.5": "5 minutes",
  "time_limit.10": "10 minutes",
  "time_limit.15": "15 minutes",
  "time_limit.20": "20 minutes",
  "time_limit.30": "30 minutes",
  "include_code_snippets": "Inclure des extraits de code",
  "code_snippets_description": "Inclure des exemples de code dans les questions le cas échéant",
  "generate_quiz": "Générer le Quiz",
  "generating": "Génération...",
  "create_quiz_description": "Ceci créera un nouveau quiz basé sur vos paramètres",
  "creating_with_ai": "Création de votre quiz avec l'IA... Ceci pourrait prendre un moment",
  
  // Toast messages
  "template_applied": "Modèle Appliqué",
  "template_applied_description": "Utilisation du modèle \"{{name}}\" comme point de départ.",
  "quiz_generated_success": "Quiz généré avec succès",
  "quiz_created_description": "Votre quiz a été créé et est maintenant disponible dans Firestore.",
  "failed_to_generate_quiz": "Échec de la génération du quiz",
  "try_again_later": "Veuillez réessayer plus tard.",
  "topic_required": "Le sujet est requis",
  "please_enter_topic": "Veuillez saisir un sujet de quiz",
  
  // Results page translations
  "excellent_performance": "Performance Excellente !",
  "great_job": "Excellent Travail !",
  "good_effort": "Bon Effort !",
  "keep_practicing": "Continuez à Pratiquer !",
  "excellent_score": "Score excellent ! Vous avez une forte compréhension du sujet.",
  "great_score": "Excellent score ! Vous maîtrisez la plupart des concepts.",
  "good_score": "Bon score ! Il y a place à l'amélioration.",
  "needs_improvement": "Nécessite amélioration. Révisez le sujet et réessayez.",
  "percentage_score": "{{percentage}}% ({{correct}} sur {{total}})",
  "completed_in": "Terminé en {{time}}",
  "share_title": "J'ai obtenu {{scorePercentage}}% sur {{quizTitle}} !",
  "share_description": "J'ai eu {{correctAnswers}} sur {{totalQuestions}} questions correctes en {{timeTaken}}. {{message}}",
  "create_new_quiz": "Créer un Nouveau Quiz"
};

const esTranslations = {
  "welcome": "Bienvenido",
  "description": "Esta aplicación es compatible con 5 idiomas",
  "current_time": "Hora actual: {{time}}",
  "language": "Idioma",
  "home": "Inicio",
  "dashboard": "Panel",
  "quizzes": "Cuestionarios",
  "create_quiz": "Crear Cuestionario",
  "my_quizzes": "Mis Cuestionarios",
  "profile": "Perfil",
  "logout": "Cerrar sesión",
  "login": "Iniciar sesión",
  "register": "Registrarse",
  "quiz_title": "Título del Cuestionario",
  "quiz_description": "Descripción del Cuestionario",
  "quiz_category": "Categoría del Cuestionario",
  "quiz_difficulty": "Dificultad del Cuestionario",
  "beginner": "Principiante",
  "intermediate": "Intermedio",
  "advanced": "Avanzado",
  "expert": "Experto",
  "start_quiz": "Iniciar Cuestionario",
  "next": "Siguiente",
  "previous": "Anterior",
  "submit": "Enviar",
  "results": "Resultados",
  "score": "Puntuación",
  "correct_answers": "Respuestas correctas",
  "incorrect_answers": "Respuestas incorrectas",
  "time_taken": "Tiempo empleado",
  "share_results": "Compartir resultados",
  "try_again": "Intentar de nuevo",
  "question": "Pregunta",
  "of": "de",
  "question_review": "Revisión de preguntas",
  "your_answer": "Tu respuesta",
  "correct_answer": "Respuesta correcta",
  "error_loading_quiz": "Error al cargar el cuestionario",
  "error_submitting_quiz": "Error al enviar el cuestionario",
  "error_creating_quiz": "Error al crear el cuestionario",
  "quiz_generation_success": "Cuestionario generado con éxito",
  "quiz_generation_failure": "Error al generar el cuestionario",
  "retry": "Reintentar",
  "go_back": "Volver",
  "back_to_dashboard": "Volver al panel",
  "quiz_not_found": "Cuestionario no encontrado",
  "quiz_not_found_message": "Lo sentimos, no pudimos encontrar el cuestionario que estás buscando. Es posible que haya sido eliminado o movido.",
  "return_to_dashboard": "Volver al panel",
  "browse_all_quizzes": "Explorar todos los cuestionarios",
  "keyboard_shortcuts_available": "Atajos de teclado disponibles",
  "keyboard_shortcuts_description": "Usa las teclas de flecha para navegar, teclas numéricas (1-4) para seleccionar respuestas y 's' para enviar.",
  "time_remaining": "Tiempo restante",
  "loading_questions": "Cargando preguntas...",
  "prepare_yourself": "¡Prepárate!",
  "open_advanced_editor": "Abrir editor avanzado",
  "advanced_question_editor": "Editor de preguntas avanzado",
  "try_ai_generation": "Probar generación con IA",
  "need_more_control": "¿Necesitas más control sobre preguntas individuales? Prueba nuestro editor avanzado.",
  "edit_profile": "Editar perfil",
  "save_changes": "Guardar cambios",
  "cancel": "Cancelar",
  "select_avatar": "Seleccionar avatar",
  
  // Quiz Form translations
  "generate_quiz_with_ai": "Generar un quiz con IA",
  "template": "Plantilla",
  "quiz_ai_description": "Nuestra IA creará un quiz completo basado en tu tema. Solo proporciona el área temática y opciones de personalización.",
  "template_values_applied": "Valores de plantilla aplicados. ¡Siéntete libre de personalizar más!",
  "quiz_topic": "Tema del Quiz",
  "topic_placeholder": "ej. Fundamentos de JavaScript",
  "difficulty_level": "Nivel de Dificultad",
  "select_difficulty": "Seleccionar dificultad",
  "difficulty.beginner": "Principiante",
  "difficulty.intermediate": "Intermedio",
  "difficulty.advanced": "Avanzado",
  "number_of_questions": "Número de Preguntas",
  "select_count": "Seleccionar cantidad",
  "question_count.5": "5 preguntas",
  "question_count.10": "10 preguntas",
  "question_count.15": "15 preguntas",
  "question_count.20": "20 preguntas",
  "time_limit": "Límite de Tiempo",
  "select_time_limit": "Seleccionar límite de tiempo",
  "time_limit.5": "5 minutos",
  "time_limit.10": "10 minutos",
  "time_limit.15": "15 minutos",
  "time_limit.20": "20 minutos",
  "time_limit.30": "30 minutos",
  "include_code_snippets": "Incluir fragmentos de código",
  "code_snippets_description": "Incluir ejemplos de código en preguntas donde sea aplicable",
  "generate_quiz": "Generar Quiz",
  "generating": "Generando...",
  "create_quiz_description": "Esto creará un nuevo quiz basado en tu configuración",
  "creating_with_ai": "Creando tu quiz con IA... Esto podría tomar un momento",
  
  // Toast messages
  "template_applied": "Plantilla Aplicada",
  "template_applied_description": "Usando la plantilla \"{{name}}\" como punto de partida.",
  "quiz_generated_success": "Quiz generado exitosamente",
  "quiz_created_description": "Tu quiz ha sido creado y ahora está disponible en Firestore.",
  "failed_to_generate_quiz": "Error al generar el quiz",
  "try_again_later": "Por favor intenta de nuevo más tarde.",
  "topic_required": "El tema es requerido",
  "please_enter_topic": "Por favor ingresa un tema de quiz",
  
  // Results page translations
  "excellent_performance": "¡Excelente Rendimiento!",
  "great_job": "¡Excelente Trabajo!",
  "good_effort": "¡Buen Esfuerzo!",
  "keep_practicing": "¡Sigue Practicando!",
  "excellent_score": "¡Excelente puntuación! Tienes una comprensión sólida del tema.",
  "great_score": "¡Gran puntuación! Estás dominando la mayoría de los conceptos.",
  "good_score": "Buena puntuación! Hay espacio para mejorar.",
  "needs_improvement": "Necesita mejorar. Revisa el tema e intenta de nuevo.",
  "percentage_score": "{{percentage}}% ({{correct}} de {{total}})",
  "completed_in": "Completado en {{time}}",
  "share_title": "¡Obtuve {{scorePercentage}}% en {{quizTitle}}!",
  "share_description": "Obtuve {{correctAnswers}} de {{totalQuestions}} preguntas correctas en {{timeTaken}}. {{message}}",
  "create_new_quiz": "Crear un Nuevo Quiz"
};

const zhTranslations = {
  "welcome": "欢迎",
  "description": "此应用程序支持5种语言",
  "current_time": "当前时间: {{time}}",
  "language": "语言",
  "home": "首页",
  "dashboard": "仪表板",
  "quizzes": "测验",
  "create_quiz": "创建测验",
  "my_quizzes": "我的测验",
  "profile": "个人资料",
  "logout": "登出",
  "login": "登录",
  "register": "注册",
  "quiz_title": "测验标题",
  "quiz_description": "测验描述",
  "quiz_category": "测验类别",
  "quiz_difficulty": "测验难度",
  "beginner": "初学者",
  "intermediate": "中级",
  "advanced": "高级",
  "expert": "专家",
  "start_quiz": "开始测验",
  "next": "下一个",
  "previous": "上一个",
  "submit": "提交",
  "results": "结果",
  "score": "得分",
  "correct_answers": "正确答案",
  "incorrect_answers": "错误答案",
  "time_taken": "花费时间",
  "share_results": "分享结果",
  "try_again": "再试一次",
  "question": "问题",
  "of": "的",
  "question_review": "问题回顾",
  "your_answer": "你的答案",
  "correct_answer": "正确答案",
  "error_loading_quiz": "加载测验时出错",
  "error_submitting_quiz": "提交测验时出错",
  "error_creating_quiz": "创建测验时出错",
  "quiz_generation_success": "测验生成成功",
  "quiz_generation_failure": "生成测验失败",
  "retry": "重试",
  "go_back": "返回",
  "back_to_dashboard": "返回仪表板",
  "quiz_not_found": "未找到测验",
  "quiz_not_found_message": "抱歉，我们找不到您正在寻找的测验。它可能已被删除或移动。",
  "return_to_dashboard": "返回仪表板",
  "browse_all_quizzes": "浏览所有测验",
  "keyboard_shortcuts_available": "键盘快捷键可用",
  "keyboard_shortcuts_description": "使用箭头键导航，数字键（1-4）选择答案，以及's'键提交。",
  "time_remaining": "剩余时间",
  "loading_questions": "加载问题中...",
  "prepare_yourself": "做好准备！",
  "open_advanced_editor": "打开高级编辑器",
  "advanced_question_editor": "高级问题编辑器",
  "try_ai_generation": "尝试人工智能生成",
  "need_more_control": "需要更多控制单个问题？尝试我们的高级编辑器。",
  "edit_profile": "编辑个人资料",
  "save_changes": "保存更改",
  "cancel": "取消",
  "select_avatar": "选择头像",
  
  // Quiz Form translations
  "generate_quiz_with_ai": "使用AI生成测验",
  "template": "模板",
  "quiz_ai_description": "我们的AI将根据您的主题创建一个全面的测验。只需提供主题领域和自定义选项。",
  "template_values_applied": "模板值已应用。请随意进一步自定义！",
  "quiz_topic": "测验主题",
  "topic_placeholder": "例如：JavaScript基础知识",
  "difficulty_level": "难度级别",
  "select_difficulty": "选择难度",
  "difficulty.beginner": "初学者",
  "difficulty.intermediate": "中级",
  "difficulty.advanced": "高级",
  "number_of_questions": "题目数量",
  "select_count": "选择数量",
  "question_count.5": "5道题",
  "question_count.10": "10道题",
  "question_count.15": "15道题",
  "question_count.20": "20道题",
  "time_limit": "时间限制",
  "select_time_limit": "选择时间限制",
  "time_limit.5": "5分钟",
  "time_limit.10": "10分钟",
  "time_limit.15": "15分钟",
  "time_limit.20": "20分钟",
  "time_limit.30": "30分钟",
  "include_code_snippets": "包含代码片段",
  "code_snippets_description": "在适当的地方在题目中包含代码示例",
  "generate_quiz": "生成测验",
  "generating": "正在生成...",
  "create_quiz_description": "这将根据您的设置创建一个新的测验",
  "creating_with_ai": "正在使用AI创建您的测验...这可能需要一段时间",
  
  // Toast messages
  "template_applied": "模板已应用",
  "template_applied_description": "使用\"{{name}}\"模板作为起点。",
  "quiz_generated_success": "测验生成成功",
  "quiz_created_description": "您的测验已创建，现在可在Firestore中使用。",
  "failed_to_generate_quiz": "生成测验失败",
  "try_again_later": "请稍后再试。",
  "topic_required": "主题是必需的",
  "please_enter_topic": "请输入测验主题",
  
  // Results page translations
  "excellent_performance": "优秀表现！",
  "great_job": "做得很好！",
  "good_effort": "努力不错！",
  "keep_practicing": "继续练习！",
  "excellent_score": "优秀成绩！您对主题有很好的理解。",
  "great_score": "很好的成绩！您掌握了大部分概念。",
  "good_score": "不错的成绩！还有改进的空间。",
  "needs_improvement": "需要改进。复习主题并再试一次。",
  "percentage_score": "{{percentage}}%（{{correct}}道题，共{{total}}道题）",
  "completed_in": "用时{{time}}完成",
  "share_title": "我在{{quizTitle}}中得了{{scorePercentage}}%！",
  "share_description": "我在{{timeTaken}}内正确回答了{{correctAnswers}}道题目，共{{totalQuestions}}道题。{{message}}",
  "create_new_quiz": "创建新测验"
};

const arTranslations = {
  "welcome": "مرحبًا",
  "description": "يدعم هذا التطبيق 5 لغات",
  "current_time": "الوقت الحالي: {{time}}",
  "language": "اللغة",
  "home": "الرئيسية",
  "dashboard": "لوحة التحكم",
  "quizzes": "الاختبارات",
  "create_quiz": "إنشاء اختبار",
  "my_quizzes": "اختباراتي",
  "leaderboard": "لوحة المتصدرين",
  "analytics": "التحليلات",
  "profile": "الملف الشخصي",
  "logout": "تسجيل الخروج",
  "login": "تسجيل الدخول",
  "register": "التسجيل",
  "logout_success": "تم تسجيل الخروج بنجاح",
  "logout_success_description": "تم تسجيل خروجك من حسابك",
  "logout_error": "خطأ في تسجيل الخروج",
  "logout_error_description": "حدث خطأ أثناء تسجيل الخروج من حسابك",
  "quiz_title": "عنوان الاختبار",
  "quiz_description": "وصف الاختبار",
  "quiz_category": "فئة الاختبار",
  "quiz_difficulty": "مستوى الصعوبة",
  "beginner": "مبتدئ",
  "intermediate": "متوسط",
  "advanced": "متقدم",
  "expert": "خبير",
  "start_quiz": "بدء الاختبار",
  "next": "التالي",
  "previous": "السابق",
  "submit": "إرسال",
  "results": "النتائج",
  "score": "النتيجة",
  "correct_answers": "الإجابات الصحيحة",
  "incorrect_answers": "الإجابات الخاطئة",
  "time_taken": "الوقت المستغرق",
  "share_results": "مشاركة النتائج",
  "try_again": "المحاولة مرة أخرى",
  "question": "سؤال",
  "of": "من",
  "question_review": "مراجعة الأسئلة",
  "your_answer": "إجابتك",
  "correct_answer": "الإجابة الصحيحة",
  "error_loading_quiz": "خطأ في تحميل الاختبار",
  "error_submitting_quiz": "خطأ في إرسال الاختبار",
  "error_creating_quiz": "خطأ في إنشاء الاختبار",
  "quiz_generation_success": "تم إنشاء الاختبار بنجاح",
  "quiz_generation_failure": "فشل في إنشاء الاختبار",
  "retry": "إعادة المحاولة",
  "go_back": "العودة",
  "back_to_dashboard": "العودة إلى لوحة التحكم",
  "quiz_not_found": "الاختبار غير موجود",
  "quiz_not_found_message": "عذرًا، لم نتمكن من العثور على الاختبار الذي تبحث عنه. ربما تم حذفه أو نقله.",
  "return_to_dashboard": "العودة إلى لوحة التحكم",
  "browse_all_quizzes": "تصفح جميع الاختبارات",
  "keyboard_shortcuts_available": "اختصارات لوحة المفاتيح متاحة",
  "keyboard_shortcuts_description": "استخدم مفاتيح الأسهم للتنقل، والمفاتيح الرقمية (1-4) لاختيار الإجابات، و's' للإرسال.",
  "time_remaining": "الوقت المتبقي",
  "loading_questions": "جارٍ تحميل الأسئلة...",
  "prepare_yourself": "استعد!",
  "open_advanced_editor": "فتح المحرر المتقدم",
  "advanced_question_editor": "محرر الأسئلة المتقدم",
  "try_ai_generation": "تجربة التوليد بالذكاء الاصطناعي",
  "need_more_control": "هل تحتاج إلى مزيد من التحكم في الأسئلة الفردية؟ جرب محررنا المتقدم.",
  "edit_profile": "تعديل الملف الشخصي",
  "save_changes": "حفظ التغييرات",
  "cancel": "إلغاء",
  "select_avatar": "اختيار الصورة الرمزية",
  
  // Quiz Form translations
  "generate_quiz_with_ai": "إنشاء اختبار بالذكاء الاصطناعي",
  "template": "نموذج",
  "quiz_ai_description": "سيقوم الذكاء الاصطناعي بإنشاء اختبار شامل بناءً على موضوعك. فقط قدم المجال الموضوعي وخيارات التخصيص.",
  "template_values_applied": "تم تطبيق قيم النموذج. لا تتردد في التخصيص أكثر!",
  "quiz_topic": "موضوع الاختبار",
  "topic_placeholder": "مثال: أساسيات JavaScript",
  "difficulty_level": "مستوى الصعوبة",
  "select_difficulty": "اختر الصعوبة",
  "difficulty.beginner": "مبتدئ",
  "difficulty.intermediate": "متوسط",
  "difficulty.advanced": "متقدم",
  "number_of_questions": "عدد الأسئلة",
  "select_count": "اختر العدد",
  "question_count.5": "5 أسئلة",
  "question_count.10": "10 أسئلة",
  "question_count.15": "15 سؤال",
  "question_count.20": "20 سؤال",

  "select_time_limit": "اختر الحد الزمني",
  "time_limit.5": "5 دقائق",
  "time_limit.10": "10 دقائق",
  "time_limit.15": "15 دقيقة",
  "time_limit.20": "20 دقيقة",
  "time_limit.30": "30 دقيقة",
  "include_code_snippets": "تضمين أجزاء من الكود",
  "code_snippets_description": "تضمين أمثلة من الكود في الأسئلة عند الحاجة",
  "generate_quiz": "إنشاء الاختبار",
  "generating": "جارٍ الإنشاء...",
  "create_quiz_description": "سيؤدي هذا إلى إنشاء اختبار جديد بناءً على إعداداتك",
  "creating_with_ai": "جارٍ إنشاء الاختبار بالذكاء الاصطناعي... قد يستغرق هذا بعض الوقت",
  
  // Toast messages
  "template_applied": "تم تطبيق النموذج",
  "template_applied_description": "استخدام نموذج \"{{name}}\" كنقطة بداية.",
  "quiz_generated_success": "تم إنشاء الاختبار بنجاح",
  "quiz_created_description": "تم إنشاء اختبارك وهو متاح الآن في Firestore.",
  "failed_to_generate_quiz": "فشل في إنشاء الاختبار",
  "try_again_later": "يرجى المحاولة مرة أخرى لاحقاً",
  "topic_required": "الموضوع مطلوب",
  "please_enter_topic": "يرجى إدخال موضوع الاختبار",
  
  // Results page translations
  "excellent_performance": "أداء ممتاز!",
  "great_job": "عمل رائع!",
  "good_effort": "جهد جيد!",
  "keep_practicing": "استمر في التدريب!",
  "excellent_score": "نتيجة ممتازة! لديك فهم قوي للموضوع.",
  "great_score": "نتيجة رائعة! أنت تتقن معظم المفاهيم.",
  "good_score": "نتيجة جيدة! هناك مجال للتحسن.",
  "needs_improvement": "يحتاج إلى تحسين. راجع الموضوع وحاول مرة أخرى.",
  "percentage_score": "{{percentage}}% ({{correct}} من {{total}})",
  "completed_in": "مكتمل في {{time}}",
  "share_title": "لقد حصلت على {{scorePercentage}}% في {{quizTitle}}!",
  "share_description": "حصلت على {{correctAnswers}} من {{totalQuestions}} أسئلة صحيحة في {{timeTaken}}. {{message}}",
  
  // Dashboard translations
  "dashboard_title": "لوحة التحكم",
  "welcome_back": "أهلاً بك مرة أخرى",
  "quiz_overview": "نظرة عامة على الاختبارات",
  "recent_activity": "النشاط الأخير",
  "my_stats": "إحصائياتي",
  "total_quizzes": "إجمالي الاختبارات",
  "total_participants": "إجمالي المشاركين",
  "completion_rate": "معدل الإكمال",
  "recent_quizzes": "الاختبارات الأخيرة",
  "view_all": "عرض الكل",
  "no_quizzes_found": "لم يتم العثور على اختبارات",
  "create_your_first_quiz": "إنشاء أول اختبار لك",
  "get_started": "ابدأ الآن",
  "loading": "جاري التحميل...",
  "you_have": "لديك",
  "in_your_collection": "في مجموعتك",
  "with": "مع",
  "shared_publicly": "مشاركة علنياً",
  "invite_friends": "دعوة الأصدقاء",
  "public_quizzes": "الاختبارات العامة",
  "private_quizzes": "الاختبارات الخاصة",
  "publicly_available": "متاحة للعامة",
  "total_questions": "إجمالي الأسئلة",
  "across_all_quizzes": "عبر جميع الاختبارات",
  "average_questions": "متوسط الأسئلة",
  "per_quiz": "لكل اختبار",
  "your_recent_quizzes": "اختباراتك الأخيرة",
  "take_quiz": "أخذ الاختبار",
  "create_new_quiz": "إنشاء اختبار جديد",
  
  // Quiz card translations
  "active": "نشط",
  "inactive": "غير نشط",
  "participants": "المشاركون",
  "questions": "أسئلة",
  "minutes": "دقائق",
  "mins": "د",
  "manage": "إدارة",
  "edit": "تحرير",
  "delete": "حذف",
  "share": "مشاركة",
  "copy_link": "نسخ الرابط",
  "share_quiz": "مشاركة الاختبار",
  
  // Profile page translations  
  "profile_title": "الملف الشخصي",
  "personal_info": "المعلومات الشخصية",
  "account_settings": "إعدادات الحساب",
  "achievements": "الإنجازات",
  "statistics": "الإحصائيات",
  "display_name": "اسم العرض",
  "bio": "نبذة شخصية",
  "email": "البريد الإلكتروني",
  "location": "الموقع",
  "website": "الموقع الإلكتروني",
  "profile_updated": "تم تحديث الملف الشخصي",
  "profile_updated_description": "تم تحديث معلومات ملفك الشخصي بنجاح.",
  "could_not_load_quiz_data": "لا يمكن تحميل بيانات الاختبار",
  "quiz_submitted_successfully": "تم تقديم الاختبار بنجاح!",
  "you_scored_percentage": "لقد حصلت على {{score}}% في هذا الاختبار.",
  "could_not_submit_answers": "لا يمكن تقديم إجاباتك",
  "error_loading_results": "خطأ في تحميل النتائج",
  "could_not_load_results": "لا يمكن تحميل النتائج",
  "please_wait_while_preparing": "يرجى الانتظار بينما نحضر الاختبار...",
  "confirm_exit_quiz": "هل أنت متأكد من أنك تريد الخروج من الاختبار؟ سيتم فقدان تقدمك.",
  "unanswered_questions": "{{count}} سؤال غير مُجاب",
  "confirm_submit_incomplete": "هل أنت متأكد من أنك تريد التقديم؟ يمكنك العودة ومراجعة إجاباتك.",
  "submit_anyway": "تقديم على أي حال",
  "difficulty": "صعوبة",
  "instructions": "التعليمات",
  "instruction_time_limit": "لديك {{timeLimit}} دقيقة لإكمال الاختبار",
  "instruction_question_count": "يوجد {{count}} سؤال في المجموع",
  "instruction_navigation": "يمكنك التنقل بين الأسئلة باستخدام أزرار السابق/التالي",
  "instruction_keyboard_shortcuts": "استخدم اختصارات لوحة المفاتيح للتنقل بشكل أسرع",
  "previous_question": "السؤال السابق",
  "next_question": "السؤال التالي",
  "select_answer_option": "اختر خيار الإجابة",
  "submit_quiz_last_question": "تقديم الاختبار (في السؤال الأخير)",
  "instruction_progress_saved": "سيتم حفظ تقدمك أثناء المتابعة",
  "instruction_submit_before_timer": "قدم اختبارك قبل انتهاء الوقت المحدد",
  "quiz_question": "سؤال الاختبار",
  "exit_quiz": "الخروج من الاختبار",
  "question_of": "السؤال {{current}} من {{total}}",
  "loading_question": "جاري تحميل السؤال...",
  "report_issue": "الإبلاغ عن مشكلة",
  "please_provide_report_reason": "يرجى تقديم سبب للإبلاغ",
  "report_submitted": "تم تقديم الإبلاغ",
  "thank_you_for_reporting": "شكرًا لك على الإبلاغ عن هذه المشكلة. سنراجعها في أقرب وقت ممكن.",
  "no_options_available": "لا توجد خيارات متاحة لهذا السؤال. يرجى الإبلاغ عن هذه المشكلة.",
  "report_dialog_description": "يرجى وصف المشكلة في هذا السؤال أو إجاباته. سيراجع فريقنا ملاحظاتك.",
  "whats_wrong_with_question": "ما المشكلة في هذا السؤال؟",
  "explain_issue_placeholder": "اشرح المشكلة (مثل: إجابة غير صحيحة، صياغة غير واضحة، إلخ)",
  "submitting": "جاري التقديم...",
  "submit_report": "تقديم التقرير",

  "no_achievements": "لا توجد إنجازات بعد",
  "earn_achievements": "اكسب الإنجازات من خلال إكمال الاختبارات",
  "member_since": "عضو منذ",
  "quizzes_taken": "الاختبارات المأخوذة",
  "quizzes_created": "الاختبارات المنشأة",
  "rank": "الترتيب",
  // Error messages
  "error": "خطأ",
  "warning": "تحذير",
  "success": "نجح",
  "info": "معلومات",
  "something_went_wrong": "حدث خطأ ما",
  "please_try_again": "يرجى المحاولة مرة أخرى",
  "loading_error": "خطأ في التحميل",
  "save_error": "خطأ في الحفظ",
  "network_error": "خطأ في الشبكة",
  "permission_denied": "تم رفض الإذن",
  "not_found": "غير موجود",
  "validation_error": "خطأ في التحقق",
  
  // Form elements
  "required": "مطلوب",
  "optional": "اختياري",
  "select_option": "اختر خيار",
  "search": "بحث",
  "filter": "تصفية",
  "sort": "ترتيب",
  "reset": "إعادة تعيين",
  "apply": "تطبيق",
  "clear": "مسح",
  "save": "حفظ",
  "continue": "متابعة",
  "back": "رجوع",
  "finish": "إنهاء",
  "close": "إغلاق",
  "open": "فتح",
  "add": "إضافة",
  "remove": "إزالة",
  "update": "تحديث",
  "confirm": "تأكيد",
  
  // Missing translations for quizzes page
  "quiz_deleted": "تم حذف الاختبار",
  "quiz_deleted_description": "تم حذف الاختبار بنجاح",
  "error_deleting_quiz": "خطأ في حذف الاختبار",
  "could_not_delete_quiz": "لا يمكن حذف الاختبار",
  "link_copied": "تم نسخ الرابط",
  "link_copied_description": "تم نسخ رابط الاختبار إلى الحافظة",
  "manage_all_quizzes": "إدارة جميع الاختبارات التي أنشأتها",
  "search_quizzes_placeholder": "البحث عن الاختبارات...",
  "all": "الكل",
  "recent": "الأخيرة",
  "shared": "المشتركة",
  "programming": "البرمجة",
  "technology": "التكنولوجيا",
  "take": "أخذ",
  "confirm_delete_quiz": "هل أنت متأكد من أنك تريد حذف هذا الاختبار؟",
  "confirm_delete_quiz_description": "هذا الإجراء لا يمكن التراجع عنه. سيؤدي هذا إلى حذف الاختبار وجميع البيانات المرتبطة به نهائياً.",
  "no_quizzes_found_search": "لم يتم العثور على اختبارات تطابق \"{{query}}\"",
  "clear_search": "مسح البحث",
  "no_quizzes_created_yet": "لم تنشئ أي اختبارات بعد. ابدأ بإنشاء اختبارك الأول!",
  
  // App branding and header
  "app_name": "كويز جينيوس",
  "app_tagline": "منصة الذكاء الاصطناعي لإنشاء الاختبارات بسهولة",
  
  // Quiz examples and mock data
  "react_fundamentals": "أساسيات React",
  "react_fundamentals_description": "تعلّم أساسيات مكونات React، الخصائص، والحالة",
  "javascript_basics": "أساسيات JavaScript",
  "javascript_basics_description": "اختبر معلوماتك في مفاهيم JavaScript الأساسية",
  "es6_features": "ميزات JavaScript ES6",
  "es6_features_description": "تم إكمال هذا الاختبار من قبل {{count}} مشارك",
  "coming_soon": "قريبًا...",
  "quiz_templates": "قوالب الاختبارات",
  "quiz_templates_description": "ابدأ بقالب جاهز أو اصنع اختبارك الخاص",
  "web_development": "تطوير الويب",
  "quiz_completed_by": "أكمل هذا الاختبار {{count}} مستخدمًا",
  "view_detailed_analytics": "عرض التحليلات التفصيلية",
  "css_grid_flexbox": "CSS Grid و Flexbox",
  "css_grid_flexbox_description": "تقنيات تخطيط CSS الحديثة باستخدام Grid و Flexbox",
  "recent_quiz_analytics": "تحليلات الاختبارات الأخيرة",
  "category": "الفئة",
  "popularity": "الشعبية",
  "time_limit": "حد الوقت",
  "use_template": "استخدام القالب",
  "question_number": "سؤال {{number}}",
  "correct_percentage": "{{percent}}% صحيح",
  
  // Score and analytics
  "score_distribution": "توزيع الدرجات",
  "difficulty_analysis": "تحليل الصعوبة",
  "score_range_0_20": "٠–٢٠٪",
  "score_range_21_40": "٢١–٤٠٪",
  "score_range_41_60": "٤١–٦٠٪",
  "score_range_61_80": "٦١–٨٠٪",
  "score_range_81_100": "٨١–١٠٠٪",
  
  // Footer translations
  "resources": "الموارد",
  "documentation": "التوثيق",
  "support": "المساعدة والدعم",
  "use_cases": "حالات الاستخدام",
  "contact": "اتصل بنا",
  "terms": "شروط الخدمة",
  "privacy": "سياسة الخصوصية",
  "connect": "تواصل معنا",
  "made_with": "صُنع بـ",
  "by_team": "من قبل فريق كويز جينيوس",
  "all_rights_reserved": "جميع الحقوق محفوظة",
  "footer_description": "كويز جينيوس هي منصة اختبارات مدعومة بالذكاء الاصطناعي لجعل التعلم ممتعًا وتفاعليًا. أنشئ وشارك وابدأ الاختبارات في أي موضوع.",
  
  // Leaderboard translations
  "competition_hub": "مركز المنافسة",
  "competition_hub_description": "تحدى نفسك، تتبع تقدمك، وتسلق لوحة المتصدرين!",
  "share_my_ranking": "شارك ترتيبي",
  "your_competitive_standing": "موقفك التنافسي",
  "top_percentile": "الأعلى {{percent}}%",
  "how_you_rank_against_others": "كيف تتمركز مقابل أساتذة الاختبارات الآخرين",
  "global_rank": "الترتيب العالمي",
  "above_average": "أعلى من المتوسط",
  "average_label": "المتوسط: {{percent}}%",
  "current_streak": "الحالي: {{streak}}",
  "performance_insights": "رؤى الأداء",
  "user_points": "نقاط",
  "percentile_ranking": "ترتيب المئوية",
  "percentile_ordinal": "المئوية {{percentile}}",
  "last_active": "آخر نشاط",
  "competitive_highlights": "أبرز المنافسات",
  "strongest_category": "الفئة الأقوى",
  "achievement_progress": "تقدم الإنجازات",
  "current_rank_trend": "اتجاه الترتيب الحالي",
  "improving": "يتحسن",
  "next_achievement": "الإنجاز التالي",
  "in_progress": "قيد التقدم",
  "global": "عالمي",
  "weekly": "أسبوعي",
  "monthly": "شهري",
  "global_rankings": "التصنيفات العالمية",
  "see_how_you_rank_worldwide": "اطلع على ترتيبك مقارنة بالمتسابقين في جميع أنحاء العالم",
  "share_leaderboard": "مشاركة لوحة المتصدرين",
  "user": "المستخدم",
  "no_leaderboard_data": "لا توجد بيانات لوحة المتصدرين. كن أول من يكمل اختبارًا!",
  "showing_top_users": "عرض أعلى {{count}} مستخدمين",
  "updated_in_real_time": "محدث في الوقت الفعلي",
  "weekly_challenge": "التحدي الأسبوعي",
  "weekly_challenge_description": "أكمل تحدي هذا الأسبوع لتحصل على نقاط إضافية وإنجازات حصرية",
  "ends_in": "ينتهي في: {{time}}",
  "current_challenge": "التحدي الحالي",
  "you": "أنت",
  "advanced_analytics": "التحليلات المتقدمة",
  "advanced_analytics_description": "احصل على رؤى مفصلة حول أداء الاختبارات وتفاعل المستخدمين وأنماط التعلم",
  "overall_analytics": "التحليلات الشاملة",
  "personal_performance": "الأداء الشخصي",
  "quiz_specific_analysis": "تحليل الاختبار المحدد",
  "select_quiz": "اختر الاختبار",
  "all_quizzes": "جميع الاختبارات",
  "time_range": "النطاق الزمني",
  "last_week": "الأسبوع الماضي",
  "last_month": "الشهر الماضي",
  "last_quarter": "الربع الماضي",
  "last_year": "السنة الماضية",
  "all_time": "جميع الأوقات",
  "average_score": "متوسط النقاط",
  "average_time": "متوسط الوقت",
  "participation_by_day": "المشاركة حسب اليوم",
  "quiz_categories": "فئات الاختبارات",
  "count": "العدد",
  "not_available": "غير متاح",
  "time_period": "الفترة الزمنية",
  "all_categories": "جميع الفئات",
  "challenge_ends_in": "ينتهي التحدي في",
  "take_challenge": "خذ التحدي",
  "no_active_challenge": "لا يوجد تحدي نشط",
  "check_back_for_challenges": "راجع قريباً للتحديات الأسبوعية الجديدة مع مكافآت خاصة!",
  "browse_quizzes": "تصفح الاختبارات",
  "create_manually": "إنشاء يدويًا",
  "ai_generated_quiz": "اختبار مُولّد بالذكاء الاصطناعي",
  "advanced_editor": "محرر متقدم",
  "pro_tip": "نصيحة احترافية",
  "question_bank_tip": "يمكنك إنشاء وحفظ الأسئلة في بنك الأسئلة لإعادة استخدامها في اختبارات متعددة. يمكنك الوصول إلى بنك الأسئلة في أي وقت من لوحة التحكم.",
  "go_to_question_bank": "اذهب إلى بنك الأسئلة",
  "advanced_editor_description": "إنشاء وتحرير وتنظيم أسئلة الاختبار مع التحكم التفصيلي في كل جانب",
  "advanced_editor_features": "يتيح لك هذا المحرر المتقدم تخصيص كل سؤال بدقة، والتحكم في تسلسلها، وإضافة مقاطع الكود، وضبط إعدادات الاختبار بدقة.",
  "create_manually_title": "إنشاء اختبار جديد يدويًا",
  "create_manually_description": "إنشاء اختبار من البداية عن طريق إضافة الأسئلة والإجابات والخيارات يدويًا.",
  "css_layout_mastery": "إتقان تخطيط CSS",
  "css_layout_mastery_description": "اختبر معرفتك بتقنيات تخطيط CSS الحديثة",
  "javascript_advanced": "JavaScript متقدم",
  "javascript_advanced_description": "اختبر معرفتك بمفاهيم JavaScript المتقدمة بما في ذلك الإغلاق والوعود والمزيد",
  "angular_advanced_routing": "التوجيه المتقدم في Angular",
  "angular_advanced_routing_description": "اختبر معرفتك بميزات راوتر Angular بما في ذلك الطرق الفرعية والحراس والمحلول",
  "css_flexbox_master_challenge": "تحدي إتقان CSS Flexbox",
  "css_flexbox_master_challenge_description": "أكمل هذا الاختبار بنتيجة 80% أو أعلى لتحصل على إنجاز 'بطل Flexbox' و 500 نقطة إضافية.",
  "flexbox_hero": "بطل Flexbox",
  "need_more_control_questions": "هل تحتاج للمزيد من التحكم في الأسئلة الفردية؟ جرب محررنا المتقدم.",
  
  // Quiz content translations
  "angular_routing": "التوجيه في Angular",
  "angular_routing_description": "تعلم تقنيات التوجيه المتقدمة في Angular بما في ذلك الحراس والمحلولات.",
  "JavaScript backlog Intermediate Quiz": "اختبار JavaScript المتوسط المتأخر",
  "Test your intermediate knowledge about JavaScript backlog.": "اختبر معرفتك المتوسطة حول JavaScript المتأخر.",
  "JavaScript Fundamentals": "أساسيات JavaScript",
  "Core concepts of JavaScript including variables, functions, objects, and more": "المفاهيم الأساسية لـ JavaScript بما في ذلك المتغيرات والوظائف والكائنات والمزيد",
  "JavaScript Basics Quiz": "اختبار أساسيات JavaScript",
  "Test your knowledge of JavaScript fundamentals including variables, functions, and basic syntax.": "اختبر معرفتك بأساسيات JavaScript بما في ذلك المتغيرات والوظائف والصيغة الأساسية.",
  "Routing in Angular Advanced Quiz": "اختبار التوجيه المتقدم في Angular",
  "Test your advanced knowledge about Routing in Angular.": "اختبر معرفتك المتقدمة حول التوجيه في Angular.",
  "Routing in Angular Intermediate Quiz": "اختبار التوجيه المتوسط في Angular",
  "Test your intermediate knowledge about Routing in Angular.": "اختبر معرفتك المتوسطة حول التوجيه في Angular.",
  "React Component Patterns": "أنماط مكونات React",
  "Advanced patterns for React components including hooks, context, and performance optimization": "أنماط متقدمة لمكونات React بما في ذلك الخطافات والسياق وتحسين الأداء",
  
  // Common messages
  "no_data": "لا توجد بيانات متاحة حالياً",
  "error_occurred": "حدث خطأ. يرجى المحاولة مرة أخرى",
  
  // Missing translations for profile page
  "stats": "الإحصائيات",
  "quizzes_completed": "الاختبارات المكتملة",
  "avg_score": "متوسط النتيجة",
  "total_score": "المجموع الكلي",
  "best_streak": "أفضل سلسلة",
  "view_all_achievements": "عرض جميع الإنجازات البالغة {{count}}",
  "no_achievements_message": "لا توجد إنجازات بعد. خذ المزيد من الاختبارات لكسبها!",
  "profile_information": "معلومات الملف الشخصي",
  "update_profile_description": "تحديث معلومات ملفك الشخصي والتفاصيل العامة",
  "unranked": "غير مصنف",
  "rank_number": "الترتيب #{{rank}}",
  "yes": "نعم",
  "no": "لا",
  "ok": "موافق",
  
  // Navigation
  "navigation": "التنقل",
  "menu": "القائمة",
  "help": "المساعدة",
  "about": "حول",
  
  // Time and date
  "today": "اليوم",
  "yesterday": "أمس",
  "tomorrow": "غداً",
  "this_week": "هذا الأسبوع",
  "this_month": "هذا الشهر",
  "this_year": "هذا العام",
  "ago": "منذ",
  "from_now": "من الآن",
  "seconds": "ثواني",
  "hours": "ساعات",
  "days": "أيام",
  "weeks": "أسابيع",
  "months": "أشهر",
  "years": "سنوات",
  
  // Status messages
  "online": "متصل",
  "offline": "غير متصل",
  "connecting": "جاري الاتصال",
  "connected": "متصل",
  "disconnected": "منقطع",
  "syncing": "جاري المزامنة",
  "synced": "مزامن",
  "pending": "معلق",
  "completed": "مكتمل",
  "failed": "فشل",
  "cancelled": "ملغي",
  "processing": "جاري المعالجة",
  "ready": "جاهز",
  "draft": "مسودة",
  "published": "منشور",
  "archived": "مؤرشف",
  
  // Accessibility
  "close_dialog": "إغلاق النافذة",
  "close_menu": "إغلاق القائمة",
  "toggle_menu": "تبديل القائمة",
  "toggle_theme": "تبديل السمة",
  "toggle_language": "تبديل اللغة",
  "go_to_main_content": "انتقل إلى المحتوى الرئيسي",
  "skip_to_content": "تخطي إلى المحتوى",
  "keyboard_shortcuts": "اختصارات لوحة المفاتيح",
  
  // Placeholders
  "enter_text": "أدخل النص",
  "enter_email": "أدخل البريد الإلكتروني",
  "enter_password": "أدخل كلمة المرور",
  "enter_name": "أدخل الاسم",
  "enter_title": "أدخل العنوان",
  "enter_description": "أدخل الوصف",
  "choose_file": "اختر ملف",
  "drag_drop_files": "اسحب وأسقط الملفات هنا",
  "no_file_selected": "لم يتم اختيار ملف",
  "search_placeholder": "ابحث...",
  "type_here": "اكتب هنا...",
  
  // Empty states
  "no_results": "لا توجد نتائج",
  "empty_state": "حالة فارغة",
  "nothing_here": "لا يوجد شيء هنا",
  "no_items_found": "لم يتم العثور على عناصر",
  "start_by_creating": "ابدأ بإنشاء",
  "get_started_description": "ابدأ بإنشاء أول عنصر لك",
  
  // Tooltips and help text
  "tooltip_edit": "تحرير",
  "tooltip_delete": "حذف",
  "tooltip_share": "مشاركة",
  "tooltip_copy": "نسخ",
  "tooltip_save": "حفظ",
  "tooltip_cancel": "إلغاء",
  "tooltip_info": "معلومات",
  "tooltip_settings": "الإعدادات",
  "tooltip_help": "المساعدة",
  "tooltip_close": "إغلاق",
  "tooltip_minimize": "تصغير",
  "tooltip_maximize": "تكبير",
  "tooltip_refresh": "تحديث",
  "tooltip_search": "بحث",
  "tooltip_filter": "تصفية",
  "tooltip_sort": "ترتيب",
  
  // Confirmation dialogs
  "confirm_delete": "تأكيد الحذف",
  "confirm_delete_message": "هل أنت متأكد من أنك تريد حذف هذا العنصر؟",
  "confirm_save": "تأكيد الحفظ",
  "confirm_save_message": "هل تريد حفظ التغييرات؟",
  "confirm_cancel": "تأكيد الإلغاء",
  "confirm_cancel_message": "هل تريد إلغاء التغييرات؟",
  "confirm_action": "تأكيد العمل",
  "action_cannot_be_undone": "لا يمكن التراجع عن هذا العمل",
  
  // Additional quiz-specific terms
  "quiz_performance": "أداء الاختبار",
  "question_analysis": "تحليل الأسئلة",
  "response_time": "وقت الاستجابة",
  "highest_score": "أعلى نتيجة",
  "lowest_score": "أقل نتيجة",
  "pass_rate": "معدل النجاح",
  "attempt_count": "عدد المحاولات",
  "last_attempt": "آخر محاولة",
  "best_attempt": "أفضل محاولة",
  "quiz_stats": "إحصائيات الاختبار",
  "participant_stats": "إحصائيات المشاركين",
  "top_performer": "أداء متميز",
  "keep_improving": "استمر في التحسن",
  "score_progression": "تطور النتائج",
  "vs_global_avg": "مقابل المتوسط العالمي",
  "no_analytics_data_available": "لا توجد بيانات تحليلية متاحة لهذا الاختبار",
  "track_your_quiz_performance": "تتبع أداء الاختبارات وتحليل أنماط التعلم",
  "personal_performance_coming_soon": "تحليل الأداء الشخصي قادم قريباً",
  "quiz_specific_analysis_coming_soon": "تحليل الاختبارات المحددة قادم قريباً",
  "please_login_to_view_analytics": "يرجى تسجيل الدخول لعرض التحليلات"
};

const resources = {
  en: { common: enTranslations },
  fr: { common: frTranslations },
  es: { common: esTranslations },
  zh: { common: zhTranslations },
  ar: { common: arTranslations }
};

const DETECTION_OPTIONS = {
  order: ['localStorage', 'navigator'],
  lookupLocalStorage: 'i18nextLng',
  caches: ['localStorage'],
};

// Initialize i18next only if not already initialized
if (!i18n.isInitialized) {
  i18n
    // Detect user language
    .use(LanguageDetector)
    // Pass i18n instance to react-i18next
    .use(initReactI18next)
    // Initialize configuration
    .init({
      debug: import.meta.env.DEV, // Enable debug in development
      fallbackLng: 'en',
      supportedLngs: languages.map(lang => lang.code),
      defaultNS: 'common',
      ns: ['common'],
      resources,
      detection: DETECTION_OPTIONS,
      interpolation: {
        escapeValue: false, // React already escapes values
      },
      // Special handling for pluralization and formatting
      pluralSeparator: '_',
      contextSeparator: '_',
      react: {
        useSuspense: false, // Changed to false since translations are bundled
      },
    });
}

// Function to get language direction (RTL or LTR)
export const getLanguageDirection = (lang: string): Direction => {
  const language = languages.find(l => l.code === lang);
  return language?.dir || 'ltr';
};

// Helper function to change language
export const changeLanguage = (lang: string): Promise<any> => {
  return i18n.changeLanguage(lang);
};

// Helper to get current language
export const getCurrentLanguage = (): string => {
  return i18n.language || 'en';
};

export default i18n;